openapi: 3.0.3
info:
  title: Portal API
  version: 3.1.0
  description: Portal API
  contact:
    name: Kong
    url: 'https://cloud.konghq.com'
  x-oas-source: kong/platform-api@1b94df122ca52e0f3a915ec4c8b9c2a56234b12c
  x-oas-source-link: 'https://github.com/Kong/platform-api/commit/1b94df122ca52e0f3a915ec4c8b9c2a56234b12c'
servers:
  - url: 'https://custom.example.com'
    description: Production
paths:
  /api/v3/api-attributes:
    get:
      operationId: get-paginated-api-attributes
      summary: List API Attributes
      description: |
        Get a paginated list of all attributes across APIs in the portal.
        If authenticated, results will include attributes of APIs visible to the authenticated user.
        If not authenticated, results will include only attributes of publicly visible APIs.

        When the `selected` query parameter is provided, the response will include a `selected_api_count`
        field for each attribute value, indicating how many APIs would match that attribute value
        when combined with the currently selected filters.
      parameters:
        - $ref: '#/components/parameters/ApiAttributeFilters'
        - $ref: '#/components/parameters/SelectedApiAttributes'
      responses:
        '200':
          $ref: '#/components/responses/ListApiAttributes'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
      tags:
        - API Attributes
  /api/v3/apis:
    get:
      operationId: list-apis
      summary: List APIs
      description: Returns a paginated list of published APIs.
      parameters:
        - $ref: '#/components/parameters/ApiFilters'
        - $ref: '#/components/parameters/ApiSort'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/PageNumber'
      responses:
        '200':
          $ref: '#/components/responses/ApiList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - APIs
  '/api/v3/apis/{apiIdOrSlug}':
    get:
      operationId: fetch-api
      summary: Get API
      description: Gets the details for an existing published API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
      responses:
        '200':
          $ref: '#/components/responses/ApiGet'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - APIs
  '/api/v3/apis/{apiIdOrSlug}/actions':
    parameters:
      - $ref: '#/components/parameters/ApiIdOrSlug'
    get:
      operationId: get-api-actions
      summary: List API Actions
      description: Get a set of actions that the current developer is allowed to perform on an API.
      responses:
        '200':
          $ref: '#/components/responses/ApiActions'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/NotAvailable'
      tags:
        - APIs
  '/api/v3/apis/{apiIdOrSlug}/applications':
    parameters:
      - $ref: '#/components/parameters/ApiIdOrSlug'
      - $ref: '#/components/parameters/QueryUnregisteredApplications'
      - $ref: '#/components/parameters/ApplicationFilters'
      - $ref: '#/components/parameters/PageSize'
      - $ref: '#/components/parameters/PageNumber'
    get:
      operationId: get-api-applications
      summary: List API Applications
      description: |
        Get applications that have a registration for a given API.
        Any registration will count, regardless of status (i.e. even if it is pending, rejected, or revoked).
        Use the unregistered query param to return the inverse, only including applicatons that do not have a registration (regardless of status).
      responses:
        '200':
          $ref: '#/components/responses/ApiListApplications'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      tags:
        - APIs
  '/api/v3/apis/{apiIdOrSlug}/documents':
    get:
      operationId: list-api-documents
      summary: List API Docs
      description: Returns a tree view of documents that are associated with an API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
      responses:
        '200':
          $ref: '#/components/responses/ApiDocumentList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  '/api/v3/apis/{apiIdOrSlug}/documents/{documentIdOrSlug}':
    get:
      operationId: fetch-api-document
      summary: Get API Doc
      description: Returns the specified document from the API's document tree.
      parameters:
        - name: Accept
          in: header
          schema:
            $ref: '#/components/schemas/DocumentFormatContentTypeEnum'
        - $ref: '#/components/parameters/ApiIdOrSlug'
        - $ref: '#/components/parameters/DocumentIdOrSlug'
      responses:
        '200':
          $ref: '#/components/responses/ApiDocumentGet'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  '/api/v3/apis/{apiIdOrSlug}/specifications':
    get:
      operationId: list-api-specs
      summary: List API Specs
      description: Returns the API specification documents (OpenAPI or AsyncAPI) attached to the API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
      responses:
        '200':
          $ref: '#/components/responses/ApiSpecList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      deprecated: true
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  '/api/v3/apis/{apiIdOrSlug}/specifications/{specId}':
    get:
      operationId: fetch-api-spec
      summary: Get API Spec
      description: Returns an API specification document (OpenAPI or AsyncAPI) for an API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
        - $ref: '#/components/parameters/SpecId'
      responses:
        '200':
          $ref: '#/components/responses/ApiSpecGet'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      deprecated: true
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  '/api/v3/apis/{apiIdOrSlug}/specifications/{specId}/raw':
    get:
      operationId: fetch-api-spec-raw
      summary: Get Raw API Spec
      description: Returns an API specification content (OpenAPI or AsyncAPI) for an API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
        - $ref: '#/components/parameters/SpecId'
      responses:
        '200':
          $ref: '#/components/responses/ApiSpecGetRaw'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      deprecated: true
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  '/api/v3/apis/{apiIdOrSlug}/versions':
    get:
      operationId: list-api-version-specs
      summary: List API Versions
      description: Returns the API specification documents (OpenAPI or AsyncAPI) attached to the API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
      responses:
        '200':
          $ref: '#/components/responses/ApiVersionList'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  '/api/v3/apis/{apiIdOrSlug}/versions/{versionId}':
    get:
      operationId: fetch-api-version-spec
      summary: Get API Version Spec
      description: Returns an API version specification document (OpenAPI or AsyncAPI) for an API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
        - $ref: '#/components/parameters/VersionId'
      responses:
        '200':
          $ref: '#/components/responses/ApiVersionGet'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  '/api/v3/apis/{apiIdOrSlug}/versions/{versionId}/raw':
    get:
      operationId: fetch-api-version-spec-raw
      summary: Get Raw API Version Spec
      description: Returns an API version specification content (OpenAPI or AsyncAPI) for an API.
      parameters:
        - $ref: '#/components/parameters/ApiIdOrSlug'
        - $ref: '#/components/parameters/VersionId'
      responses:
        '200':
          $ref: '#/components/responses/ApiVersionGetRaw'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - API Docs
  /api/v3/application-auth-strategies:
    get:
      operationId: list-application-auth-strategies
      summary: List Available Auth Strategies
      description: |
        Retrieve the auth strategies on this portal.
        An auth strategy represents the way your application provides credentials to authenticate with an API.
      parameters:
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/FilterByNameEquality'
        - $ref: '#/components/parameters/FilterByNameEqualityShort'
        - $ref: '#/components/parameters/FilterByNameContains'
        - $ref: '#/components/parameters/FilterByCredentialTypeEquality'
      responses:
        '200':
          $ref: '#/components/responses/ListAuthStrategies'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - portalAccessToken: []
      tags:
        - Applications
  /api/v3/applications:
    get:
      operationId: list-applications
      summary: List Applications
      description: List applications the currently logged in developer can access.
      parameters:
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/FilterByNameEquality'
        - $ref: '#/components/parameters/FilterByNameEqualityShort'
        - $ref: '#/components/parameters/FilterByNameContains'
        - $ref: '#/components/parameters/FilterByAuthStrategyEquality'
        - $ref: '#/components/parameters/FilterByAuthStrategyEqualityShort'
      responses:
        '200':
          $ref: '#/components/responses/ListApplications'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - portalAccessToken: []
      tags:
        - Applications
    post:
      operationId: create-application
      summary: Create Application
      description: Creates a new Application.
      requestBody:
        $ref: '#/components/requestBodies/CreateApplication'
      responses:
        '201':
          $ref: '#/components/responses/ApplicationCreation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
      security:
        - portalAccessToken: []
      tags:
        - Applications
  '/api/v3/applications/{applicationId}':
    get:
      operationId: get-application
      summary: Get an Application
      description: Gets the details for an existing application. You need only supply the unique application identifier that was returned upon application creation or by the list-applications endpoint.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
      responses:
        '200':
          $ref: '#/components/responses/GetApplication'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
      tags:
        - Applications
    delete:
      operationId: delete-application
      summary: Delete Application
      description: Deletes an application and all of its associated entities (registrations).
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
      responses:
        '204':
          description: Application was deleted successfully.
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/TooManyRequests'
      security:
        - portalAccessToken: []
      tags:
        - Applications
    patch:
      operationId: update-application
      summary: Update Application
      description: 'Updates an application, replacing specified properties with any new values supplied in the request body.'
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
      requestBody:
        $ref: '#/components/requestBodies/UpdateApplication'
      responses:
        '200':
          $ref: '#/components/responses/ApplicationUpdate'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
      security:
        - portalAccessToken: []
      tags:
        - Applications
  '/api/v3/applications/{applicationId}/credentials':
    get:
      operationId: list-credentials
      summary: List Credentials
      description: |
        Lists the credentials for an application.
        Response varies by auth strategy type:
        - For Client-Credential applications: Returns the ID of each credential
        - For Key-Auth applications: Returns the ID and name of each credential
        Basic information about the credential is returned, but not the credential secret itself.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/PageNumber'
      responses:
        '200':
          $ref: '#/components/responses/ListCredentials'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
      security:
        - portalAccessToken: []
      tags:
        - Credentials
    post:
      operationId: create-credential
      summary: Create Credential
      description: |
        Allows a developer to create a credential for an application they own.
        Creates credential based on application's auth strategy:
        - For Client-Credential applications: Creates new client secret
        - For Key-Auth applications: Creates new API key credential
        Some Client Credentials applications may not support setting a display_name.
        Secret value (`client_secret` for Client Credentials, `credential` for Key Auth API keys) is only returned on creation (one-time), not in subsequent list operations.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
      requestBody:
        $ref: '#/components/requestBodies/CreateCredential'
      responses:
        '201':
          $ref: '#/components/responses/CredentialCreation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/PostCredentials403Response'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
      tags:
        - Credentials
  '/api/v3/applications/{applicationId}/credentials/{credentialId}':
    put:
      operationId: update-credential
      summary: Update Credential
      description: |
        Updates a credential for an application owned by the current logged in developer.
        Updates credential metadata (display_name).
        Some Client Credentials applications may not support setting a display_name.
        Returns 400 error if operation not supported for Client Credentials.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
        - $ref: '#/components/parameters/CredentialId'
      requestBody:
        $ref: '#/components/requestBodies/UpdateCredential'
      responses:
        '200':
          description: Credential successfully updated.
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
      tags:
        - Credentials
    delete:
      operationId: delete-credential
      summary: Delete Credential
      description: |
        Deletes a credential for an application they own.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
        - $ref: '#/components/parameters/CredentialId'
      responses:
        '204':
          description: Credential successfully deleted.
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
      security:
        - portalAccessToken: []
      tags:
        - Credentials
  '/api/v3/applications/{applicationId}/granted-scopes':
    get:
      operationId: get-application-granted-scopes
      summary: Get granted scopes
      description: |
        Retrieves the [granted scopes](https://docs.konghq.com/konnect/dev-portal/applications/dynamic-client-registration/auth0/) of a specified application and API directly from the IDP.
        Scopes shared between APIs will be returned, even if not currently registered for given API.
        Will return 422 if this feature is not supported by the application.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
      responses:
        '200':
          $ref: '#/components/responses/GetGrantedScopesAPI'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '422':
          $ref: '#/components/responses/GetGrantedScopesAPI422Response'
      security:
        - portalAccessToken: []
      tags:
        - Applications
  '/api/v3/applications/{applicationId}/regenerate-secret':
    post:
      operationId: regenerate-application-secret
      summary: Regenerate Client Secret
      description: Regenerates the client secret for an application.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
      responses:
        '201':
          $ref: '#/components/responses/RegenerateSecret'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
      tags:
        - Credentials
  '/api/v3/applications/{applicationId}/registrations':
    get:
      operationId: list-application-registrations
      summary: List Registrations for App
      description: Lists API registrations for an application.
      parameters:
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/ApplicationId'
        - $ref: '#/components/parameters/FilterByIdEquality'
        - $ref: '#/components/parameters/FilterByIdEqualityShort'
        - $ref: '#/components/parameters/FilterByStatusEquality'
        - $ref: '#/components/parameters/FilterByStatusEqualityShort'
        - $ref: '#/components/parameters/FilterByAPINameEquality'
        - $ref: '#/components/parameters/FilterByAPINameEqualityShort'
        - $ref: '#/components/parameters/FilterByAPINameContains'
      responses:
        '200':
          $ref: '#/components/responses/ListApiRegistrations'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
      tags:
        - Registrations
    post:
      operationId: create-application-registration
      summary: Register App for API
      description: Registers an application for an API.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
      requestBody:
        $ref: '#/components/requestBodies/CreateAPIRegistration'
      responses:
        '201':
          $ref: '#/components/responses/CreateAPIRegistration'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
      security:
        - portalAccessToken: []
      tags:
        - Registrations
  '/api/v3/applications/{applicationId}/registrations/{registrationId}':
    get:
      operationId: get-application-registration
      summary: Get an App Registration
      description: Retrieves the specified API registration for an application.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
        - $ref: '#/components/parameters/RegistrationId'
      responses:
        '200':
          $ref: '#/components/responses/GetAPIRegistration'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
      tags:
        - Registrations
    delete:
      operationId: delete-application-registration
      summary: Delete App Registration
      description: Unregister an application for an API.
      parameters:
        - $ref: '#/components/parameters/ApplicationId'
        - $ref: '#/components/parameters/RegistrationId'
      responses:
        '204':
          description: The registration has been deleted.
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
      tags:
        - Registrations
  /api/v3/assets/favicon:
    get:
      operationId: get-portal-favicon
      summary: Get Portal Favicon
      description: Gets favicon of the developer portal.
      responses:
        '200':
          $ref: '#/components/responses/PortalImageAssetResponse'
      security:
        - {}
      tags:
        - Content
  /api/v3/assets/logo:
    get:
      operationId: get-portal-logo
      summary: Get Portal Logo
      description: Gets logo of the developer portal.
      responses:
        '200':
          $ref: '#/components/responses/PortalImageAssetResponse'
      security:
        - {}
      tags:
        - Content
  /api/v3/customization:
    get:
      operationId: get-portal-customization
      summary: Get Portal Customization Settings
      description: Returns the portal's custom settings.
      responses:
        '200':
          $ref: '#/components/responses/PortalCustomizationResponse'
      security:
        - {}
      tags:
        - Portal
  /api/v3/developer:
    post:
      operationId: register
      summary: Register
      description: Register to the developer portal.
      requestBody:
        description: Developer registration
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterPayload'
            examples:
              RegisterDeveloperRequestExample1:
                $ref: '#/components/examples/RegisterDeveloperRequestExample1'
      responses:
        '201':
          description: the developer has been properly registered.
        '400':
          $ref: '#/components/responses/BadRequest'
      security:
        - {}
      tags:
        - Developer
  /api/v3/developer/authenticate:
    post:
      operationId: authenticate
      summary: Login
      description: This endpoint allows a developer to authenticate to their portal using a username and password.
      requestBody:
        $ref: '#/components/requestBodies/AuthenticateRequest'
      responses:
        '204':
          description: No Content
          headers:
            Set-Cookie:
              schema:
                type: string
                example: |
                  portalaccesstoken=access12345; Path=/; Domain=example.us.portal.konghq.com; Expires=Thu, 20 Jul 2023 12:00:00 GMT; HttpOnly; Secure; SameSite=None
                  portalrefreshtoken=refresh12345; Path=/v2/refresh; Domain=example.us.portal.konghq.com; Expires=Thu, 20 Jul 2023 12:00:00 GMT; HttpOnly; Secure; SameSite=None
              description: The access and refresh tokens.
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
      tags:
        - Developer
  /api/v3/developer/authenticate/sso:
    get:
      operationId: authenticate-sso
      summary: Get Authentication via SSO
      description: This endpoint allows a developer to authenticate to their portal using an external IdP.
      responses:
        '302':
          description: Found
        '400':
          $ref: '#/components/responses/BadRequest'
      tags:
        - Developer
  /api/v3/developer/forgot-password:
    post:
      operationId: forgot-password
      summary: Forgot Password
      description: |
        Starts the password reset flow for the desired account. An email
        will be sent to the email address to initiate the password reset flow.
      requestBody:
        description: Developer registration
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordPayload'
      responses:
        '200':
          description: the password reset flow has been initiated.
        '400':
          $ref: '#/components/responses/BadRequest'
      security:
        - {}
      tags:
        - Developer
  /api/v3/developer/logout:
    post:
      operationId: logout
      summary: Logout
      description: This endpoint allows a developer to logout of the portal. This operation revokes all active tokens and clears the portal cookies.
      responses:
        '204':
          description: No Content
      tags:
        - Developer
  /api/v3/developer/me:
    get:
      operationId: get-developer-me
      summary: Get My Account
      description: Returns info about the current developer.
      responses:
        '200':
          $ref: '#/components/responses/MeResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - portalAccessToken: []
      tags:
        - Developer
  /api/v3/developer/refresh:
    post:
      operationId: refresh
      summary: Refresh Access Token
      description: This endpoint allows a developer to refresh their existing access token.
      responses:
        '204':
          description: No Content
          headers:
            Set-Cookie:
              schema:
                type: string
                example: |
                  portalaccesstoken=access12345; Path=/; Domain=example.us.portal.konghq.com; Expires=Thu, 20 Jul 2023 12:00:00 GMT; HttpOnly; Secure; SameSite=None
                  portalrefreshtoken=refresh12345; Path=/v2/refresh; Domain=example.us.portal.konghq.com; Expires=Thu, 20 Jul 2023 12:00:00 GMT; HttpOnly; Secure; SameSite=None
        '401':
          $ref: '#/components/responses/responses-Unauthorized'
      tags:
        - Developer
  /api/v3/developer/reset-password:
    post:
      operationId: reset-password
      summary: Reset Password
      description: 'This endpoint allows a developer to reset their password, using a reset token.'
      requestBody:
        $ref: '#/components/requestBodies/ResetPasswordRequest'
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/responses-Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '410':
          $ref: '#/components/responses/Gone'
      tags:
        - Developer
  /api/v3/developer/verify-email:
    post:
      operationId: verify-email
      summary: Verify Email
      description: This endpoint allows a new developer to verify their email.
      requestBody:
        $ref: '#/components/requestBodies/VerifyEmailRequest'
      responses:
        '202':
          $ref: '#/components/responses/VerifyEmailResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'
        '410':
          $ref: '#/components/responses/Gone'
      tags:
        - Developer
  /api/v3/pages:
    get:
      operationId: list-portal-pages
      summary: List Pages
      description: 'Returns a tree view of pages for the portal. Each page has a slug, title, and content. Public pages will be returned for non-authenticated users, while both private and public pages will be returned for authenticated users.'
      parameters:
        - $ref: '#/components/parameters/SortPortalPages'
        - $ref: '#/components/parameters/FilterByTitleEquality'
        - $ref: '#/components/parameters/FilterByTitleEqualityShort'
        - $ref: '#/components/parameters/FilterByTitleContains'
        - $ref: '#/components/parameters/FilterBySlugEquality'
        - $ref: '#/components/parameters/FilterBySlugEqualityShort'
        - $ref: '#/components/parameters/FilterBySlugContains'
        - $ref: '#/components/parameters/FilterByVisibilityEquality'
        - $ref: '#/components/parameters/FilterByVisibilityEqualityShort'
      responses:
        '200':
          $ref: '#/components/responses/ListPortalPagesResponse'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - Content
  '/api/v3/pages/{pagePath}':
    get:
      operationId: get-portal-page-by-name
      summary: Get a Page
      description: 'Returns a single page for the portal. Each page has a slug, title, and content. Public pages will be returned for non-authenticated users, while both private and public pages will be returned for authenticated users.'
      parameters:
        - $ref: '#/components/parameters/pagePath'
      responses:
        '200':
          $ref: '#/components/responses/GetPortalPageResponse'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - Content
  /api/v3/portal:
    get:
      operationId: get-portal-context
      summary: Get Portal Context
      description: Returns information about the portal.
      responses:
        '200':
          $ref: '#/components/responses/GetPortalContextResponse'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - Portal
  /api/v3/search:
    get:
      operationId: search-portal
      summary: List Portal Entities via Search
      description: Returns paginated search results for all entities with the given search parameters.
      parameters:
        - $ref: '#/components/parameters/PortalSearchQuery'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/PageAfter'
      responses:
        '200':
          $ref: '#/components/responses/PortalSearchResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - Search
  /api/v3/snippets:
    get:
      operationId: list-portal-snippets
      summary: List Snippets
      description: 'Returns a paginated list of snippets for the portal. Each snippet has a name, title, and content. Public snippets will be returned for non-authenticated users, while both private and public snippets will be returned for authenticated users.'
      parameters:
        - $ref: '#/components/parameters/SortPortalSnippets'
        - $ref: '#/components/parameters/PageSize'
        - $ref: '#/components/parameters/PageNumber'
        - $ref: '#/components/parameters/FilterByTitleEquality'
        - $ref: '#/components/parameters/FilterByTitleEqualityShort'
        - $ref: '#/components/parameters/FilterByTitleContains'
        - $ref: '#/components/parameters/FilterByNameEquality'
        - $ref: '#/components/parameters/FilterByNameEqualityShort'
        - $ref: '#/components/parameters/FilterByVisibilityEquality'
        - $ref: '#/components/parameters/FilterByVisibilityEqualityShort'
      responses:
        '200':
          $ref: '#/components/responses/ListPortalSnippetsResponse'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - Content
  '/api/v3/snippets/{snippetName}':
    get:
      operationId: get-portal-snippet-by-name
      summary: Get a Snippet
      description: 'Returns a single snippet for the portal. Each snippet has a name, title, and content. Public snippets will be returned for non-authenticated users, while both private and public snippets will be returned for authenticated users.'
      parameters:
        - $ref: '#/components/parameters/snippetName'
      responses:
        '200':
          $ref: '#/components/responses/GetPortalSnippetResponse'
        '404':
          $ref: '#/components/responses/NotFound'
      security:
        - portalAccessToken: []
        - {}
      tags:
        - Content
  /api/v3/stats:
    post:
      operationId: query-application-analytics
      summary: Query Application Analytics
      description: Query
      requestBody:
        description: Object describing the query sent to analytics API.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QueryApplicationAnalytics'
            examples:
              Query with a single metric:
                $ref: '#/components/examples/QueryExampleWithMetric'
              Query with a metric and dimension:
                $ref: '#/components/examples/QueryExampleWithMetricAndDimension'
              Query with a metric and two dimensions:
                $ref: '#/components/examples/QueryExampleWithMetricAndMultipleDimensions'
              Query with time dimension:
                $ref: '#/components/examples/QueryExampleWithTimeDimension'
      responses:
        '200':
          $ref: '#/components/responses/QueryResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              examples:
                BadRequestExample:
                  $ref: '#/components/examples/BadRequestExample'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              examples:
                UnauthorizedExample:
                  $ref: '#/components/examples/UnauthorizedExample'
        '403':
          $ref: '#/components/responses/Forbidden'
      security:
        - portalAccessToken: []
      tags:
        - Application Analytics
  /api/v3/stats/config:
    get:
      operationId: get-application-analytics-config
      summary: Get Application Analytics Config
      description: Get config for application analytics
      responses:
        '200':
          $ref: '#/components/responses/GetConfig'
        '401':
          $ref: '#/components/responses/Unauthorized'
      security:
        - portalAccessToken: []
      tags:
        - Application Analytics
components:
  parameters:
    ApiAttributeFilters:
      name: filter
      description: Filters API attributes in the response.
      required: false
      in: query
      schema:
        $ref: '#/components/schemas/ApiAttributeFilterParameters'
      style: deepObject
    ApiFilters:
      name: filter
      description: Filters APIs in the response.
      required: false
      in: query
      schema:
        $ref: '#/components/schemas/ApiFilterParameters'
      style: deepObject
    ApiIdOrSlug:
      name: apiIdOrSlug
      schema:
        oneOf:
          - $ref: '#/components/schemas/ApiId'
          - $ref: '#/components/schemas/ApiSlug'
      in: path
      required: true
      description: 'The API identifier, either ApiId or Api Slug'
    ApiSort:
      name: sort
      description: |
        Sorts a collection of APIs. Supported sort attributes are:
          - name
          - version
          - created_at
          - updated_at
      required: false
      in: query
      schema:
        $ref: '#/components/schemas/SortQuery'
    ApplicationFilters:
      name: applicationfilter
      description: Filters Applications to retrieve.
      required: false
      in: query
      schema:
        $ref: '#/components/schemas/ApplicationFilterParameter'
      style: deepObject
    ApplicationId:
      name: applicationId
      in: path
      required: true
      description: Id of the targeted application
      schema:
        type: string
        format: uuid
    CredentialId:
      name: credentialId
      in: path
      required: true
      description: |
        Id of the targeted credential.
        Use the list-credentials endpoint to obtain the `id` field for each credential.
      schema:
        type: string
    DocumentIdOrSlug:
      name: documentIdOrSlug
      schema:
        oneOf:
          - $ref: '#/components/schemas/DocumentId'
          - $ref: '#/components/schemas/DocumentSlug'
      in: path
      required: true
      description: 'The document identifier, either DocumentId or Document Slug'
    FilterByAPINameContains:
      name: 'filter[api_name][contains]'
      description: Filter by contains comparison of the api_name property with a supplied substring
      in: query
      required: false
      schema:
        type: string
        example: good service
    FilterByAPINameEquality:
      name: 'filter[api_name][eq]'
      description: Filter by direct equality comparison of the api_name property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: good service
    FilterByAPINameEqualityShort:
      name: 'filter[api_name]'
      description: Filter by direct equality comparison (short-hand) of the api_name property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: good service
    FilterByAuthStrategyEquality:
      name: 'filter[auth_strategy_id][eq]'
      description: Filter by the id of the auth strategy supported by the application.
      in: query
      required: false
      schema:
        type: string
        example: 5be86298-147b-45ab-bfaf-a1bff97dce39
    FilterByAuthStrategyEqualityShort:
      name: 'filter[auth_strategy_id]'
      description: Filter by the id of the auth strategy supported by the application (short-hand).
      in: query
      required: false
      schema:
        type: string
        example: 5be86298-147b-45ab-bfaf-a1bff97dce39
    FilterByCredentialTypeEquality:
      name: 'filter[credential_type][eq]'
      description: Filter by direct equality comparison of the credential_type with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: key_auth
        enum:
          - client_credentials
          - self_managed_client_credentials
          - key_auth
    FilterByIdEquality:
      name: 'filter[id][eq]'
      description: Filter by direct equality comparison of the id property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: 5be86298-147b-45ab-bfaf-a1bff97dce39
    FilterByIdEqualityShort:
      name: 'filter[id]'
      description: Filter by direct equality comparison (short-hand) of the id property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: 5be86298-147b-45ab-bfaf-a1bff97dce39
    FilterByNameContains:
      name: 'filter[name][contains]'
      description: Filter by contains comparison of the name property with a supplied substring
      in: query
      required: false
      schema:
        type: string
        example: good service
    FilterByNameEquality:
      name: 'filter[name][eq]'
      description: Filter by direct equality comparison of the name property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: good service
    FilterByNameEqualityShort:
      name: 'filter[name]'
      description: Filter by direct equality comparison (short-hand) of the name property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: good service
    FilterBySlugContains:
      name: 'filter[slug][contains]'
      description: Filter by contains comparison of the slug property with a supplied substring
      in: query
      required: false
      schema:
        type: string
        example: good
    FilterBySlugEquality:
      name: 'filter[slug][eq]'
      description: Filter by direct equality comparison of the slug property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: good-page
    FilterBySlugEqualityShort:
      name: 'filter[slug]'
      description: Filter by direct equality comparison (short-hand) of the slug property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: good-page
    FilterByStatusEquality:
      name: 'filter[status][eq]'
      description: Filter by direct equality comparison of the status property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: approved
        enum:
          - approved
          - pending
          - rejected
          - revoked
    FilterByStatusEqualityShort:
      name: 'filter[status]'
      description: Filter by direct equality comparison (short-hand) of the status property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: approved
        enum:
          - approved
          - pending
          - rejected
          - revoked
    FilterByTitleContains:
      name: 'filter[title][contains]'
      description: Filter by contains comparison of the title property with a supplied substring
      in: query
      required: false
      schema:
        type: string
        example: Good
    FilterByTitleEquality:
      name: 'filter[title][eq]'
      description: Filter by direct equality comparison of the title property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: Good Page
    FilterByTitleEqualityShort:
      name: 'filter[title]'
      description: Filter by direct equality comparison (short-hand) of the title property with a supplied value.
      in: query
      required: false
      schema:
        type: string
        example: Good Page
    FilterByVisibilityEquality:
      name: 'filter[visibility][eq]'
      description: 'Filter by whether the pages returned are public or private. Private pages are only accessible to authenticated users. For authenticated users, results will include both public and private pages if not specified.'
      in: query
      required: false
      schema:
        type: string
        example: public
        enum:
          - public
          - private
    FilterByVisibilityEqualityShort:
      name: 'filter[visibility]'
      description: 'Filter (short-hand) by whether the pages returned are public or private. Private pages are only accessible to authenticated users. For authenticated users, results will include both public and private pages if not specified.'
      in: query
      required: false
      schema:
        type: string
        example: private
        enum:
          - public
          - private
    PageAfter:
      name: 'page[after]'
      description: 'Request the next page of data, starting with the item after this parameter.'
      required: false
      in: query
      allowEmptyValue: true
      schema:
        type: string
        example: ewogICJpZCI6ICJoZWxsbyB3b3JsZCIKfQ
    PageNumber:
      name: 'page[number]'
      description: Determines which page of the entities to retrieve.
      required: false
      in: query
      allowEmptyValue: true
      schema:
        type: integer
        example: 1
    pagePath:
      name: pagePath
      in: path
      required: true
      description: 'Targeted page, url-encoded.'
      example: '%2Fmypage'
      schema:
        type: string
    PageSize:
      name: 'page[size]'
      description: The maximum number of items to include per page. The last page of a collection may include fewer items.
      required: false
      in: query
      allowEmptyValue: true
      schema:
        type: integer
        example: 10
    PortalSearchQuery:
      name: q
      description: Determines how to filter search results
      required: false
      in: query
      schema:
        $ref: '#/components/schemas/PortalSearchQueryParameters'
    QueryUnregisteredApplications:
      name: unregistered
      description: Return applications that do **not** have a registration for the API (regardless of registration status).
      in: query
      required: false
      schema:
        type: boolean
      allowEmptyValue: true
    RegistrationId:
      name: registrationId
      in: path
      required: true
      description: Contains a unique identifier used by the Portal API for this resource.
      schema:
        type: string
        format: uuid
    SelectedApiAttributes:
      name: selected
      description: |
        Specifies selected attribute values to calculate filtered API counts.
        Use the format: selected[<attribute_key>]=<attribute_value_1>,<attribute_value_2>
        When provided, the response will include selected_api_count for each attribute value.
      required: false
      in: query
      schema:
        type: object
        example:
          domain: 'airlines,flights'
          visibility: external
        additionalProperties:
          type: string
          description: Comma-separated list of selected values for this attribute key
      style: deepObject
    snippetName:
      name: snippetName
      in: path
      required: true
      description: 'Targeted snippet, url-encoded. Must not start with /.'
      example: mysnippet
      schema:
        type: string
    SortPortalPages:
      name: sort
      description: |
        Sorts a collection of portal pages. Supported sort attributes are:
          - created_at
          - updated_at
          - slug
          - title
          - visibility
      in: query
      required: false
      schema:
        type: string
    SortPortalSnippets:
      name: sort
      description: |
        Sorts a collection of portal snippets. Supported sort attributes are:
          - created_at
          - updated_at
          - name
          - title
          - visibility
      in: query
      required: false
      schema:
        type: string
    SpecId:
      name: specId
      in: path
      required: true
      description: Contains a unique identifier for this resource.
      schema:
        type: string
        format: uuid
    VersionId:
      name: versionId
      in: path
      required: true
      description: Contains a unique identifier for this resource.
      schema:
        type: string
        format: uuid
  schemas:
    QueryApplicationAnalytics:
      type: object
      properties:
        metrics:
          description: |
            A property of your API (such as request count or latency) that you wish to query on.
            Your chosen metric is aggregated within the specified dimensions, meaning that if you query 'request count by application', you'll receive the total number of requests each application received within the given time frame.
          type: array
          items:
            type: string
            enum:
              - request_count
              - request_per_minute
              - response_latency_average
              - response_size_average
              - response_size_sum
              - request_size_average
              - request_size_sum
          default:
            - request_count
          maxItems: 1
          minItems: 1
        dimensions:
          description: |
            The dimensions for the query.  A query may have up to 2 dimensions, including time.
            If no dimensions are provided, the report will simply return the provided metric aggregated across
            all available data.
          type: array
          items:
            type: string
            enum:
              - api
              - application
              - status_code
              - status_code_grouped
              - time
          default: []
          maxItems: 2
          minItems: 0
        granularity:
          description: |
            `granularity` is only valid for queries that include a time dimension, and it specifies the time buckets in for the returned data.
          type: string
          enum:
            - tenSecondly
            - thirtySecondly
            - minutely
            - fiveMinutely
            - tenMinutely
            - thirtyMinutely
            - hourly
            - twoHourly
            - twelveHourly
            - daily
            - weekly
            - trend
        time_range:
          description: The time range to query.
          default:
            type: relative
            time_range: 1h
          oneOf:
            - $ref: '#/components/schemas/RelativeTimeRangeDto'
            - $ref: '#/components/schemas/AbsoluteTimeRangeDto'
        filters:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/ApiFilter'
              - $ref: '#/components/schemas/ApplicationFilter'
              - $ref: '#/components/schemas/StatusCodeFilter'
              - $ref: '#/components/schemas/StatusCodeGroupedFilter'
          default: []
      additionalProperties: false
    AbsoluteTimeRangeDto:
      description: A duration representing an exact start and end time.
      type: object
      properties:
        tz:
          type: string
          default: Etc/UTC
        type:
          type: string
          enum:
            - absolute
        start:
          type: string
          format: date-time
        end:
          type: string
          format: date-time
      required:
        - type
        - start
        - end
    RelativeTimeRangeDto:
      description: 'A duration representing a relative-to-now span of time. Generally the start time is floored to the requested granularity. Eg 7d from now, with 1day granularity initiated at 2024-01-08T17:11:00+05:00 will query for the time range from 2024-01-01T00:00:00+05:00 to 2024-01-08T17:11:00+05:00. The exact start and end timestamps are returned in the result query in the meta.start and meta.end fields. If the granularity for the previous query was 1hour, it would query a time range from 2024-01-01T17:00:00+05:00 to 2024-01-08T17:11:00+05:00.'
      type: object
      properties:
        tz:
          type: string
          default: Etc/UTC
        type:
          type: string
          enum:
            - relative
        time_range:
          type: string
          default: 1h
          enum:
            - 15m
            - 1h
            - 6h
            - 12h
            - 24h
            - 7d
            - 30d
            - current_week
            - current_month
            - previous_week
            - previous_month
      required:
        - type
        - time_range
    FilterType:
      description: 'The type of filter to apply.  `in` filters will limit results to only the specified values, while `not_in` filters will exclude the specified values.'
      type: string
      enum:
        - in
        - not_in
    ApiFilter:
      type: object
      properties:
        field:
          description: The dimension to filter.
          type: string
          enum:
            - api
        operator:
          $ref: '#/components/schemas/FilterType'
        value:
          description: |
            The UUIDs of the API product versions to include in the results.
          type: array
          items:
            type: string
            pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
      additionalProperties: false
      required:
        - field
        - operator
        - value
    ApplicationFilter:
      type: object
      properties:
        field:
          description: The dimension to filter. If no application filter is provided the API will implicitly filter on the applications owned by the developer making the query request.
          type: string
          enum:
            - application
        operator:
          $ref: '#/components/schemas/FilterType'
        value:
          description: |
            The UUIDs of the dev portal applications to include in the results.
          type: array
          items:
            type: string
            pattern: '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
      additionalProperties: false
      required:
        - field
        - operator
        - value
    StatusCodeFilter:
      type: object
      properties:
        field:
          description: The dimension to filter.
          type: string
          enum:
            - status_code
        operator:
          $ref: '#/components/schemas/FilterType'
        value:
          description: |
            Only include requests with specific status codes in the results.
          type: array
          items:
            type: integer
            minimum: 100
            maximum: 999
      additionalProperties: false
      required:
        - field
        - operator
        - value
    StatusCodeGroupedFilter:
      type: object
      properties:
        field:
          description: The dimension to filter.
          type: string
          enum:
            - status_code_grouped
        operator:
          $ref: '#/components/schemas/FilterType'
        value:
          description: |
            Only include the given groups of status codes in the results.
          type: array
          items:
            type: string
            pattern: '^\d[xX][xX]$'
      additionalProperties: false
      required:
        - field
        - operator
        - value
    DisplayEntry:
      type: object
      properties:
        name:
          type: string
        deleted:
          type: boolean
        is_other_group:
          type: boolean
      example:
        deleted: true
        name: Api Alpha v1
      required:
        - name
    DisplayBlob:
      type: object
      properties:
        api:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DisplayEntry'
        application:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DisplayEntry'
        status_code:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DisplayEntry'
        status_code_grouped:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DisplayEntry'
      example:
        applciation:
          bf16907c-8673-4f9d-aa83-111111111111:
            deleted: true
            name: bf16907c-8673-4f9d-aa83-111111111111
          bf16907c-8673-4f9d-aa83-1f2ea9215055:
            deleted: false
            name: Api v1 Beta
    QueryResponseMeta:
      description: Query response metadata.
      type: object
      properties:
        display:
          description: |
            The blob represents how to interpret large UUID strings in the `data` response. The structure is records of dimension_id ->  ID -> entity metadata. Since entity names within Konnect may overlap, ids are returned and used for exact grouping. This blob may be used to join and display results in a more human friendly manner. Since IDs represent entities in the system at all points in time, historical data will still exist even if an entity is deleted. These such entities are marked with the `deleted` key.

            Another special case is the ____OTHER____ entity. When the limit of cardinality is reached for a second dimension, the system will group all other entities into the ____OTHER____ grouping. This prevents returning an overwhelming number of long tail entities.
          allOf:
            - $ref: '#/components/schemas/DisplayBlob'
        metric_names:
          description: The metric requested in query.
          type: array
          items:
            type: string
            enum:
              - request_count
              - request_per_minute
              - response_latency_average
              - response_size_average
              - response_size_sum
              - request_size_average
              - request_size_sum
          maxItems: 1
          minItems: 1
        metric_units:
          description: The unit of metric.
          type: object
          properties:
            request_count:
              type: string
              default: count
            request_per_minute:
              type: string
              default: count/minute
            response_latency_average:
              type: string
              default: ms
            response_size_average:
              type: string
              default: bytes
            response_size_sum:
              type: string
              default: bytes
            request_size_average:
              type: string
              default: bytes
            request_size_sum:
              type: string
              default: bytes
        start:
          description: |
            Start of the query time range.
          type: string
          format: date-time
        end:
          description: |
            End of the query time range.
          type: string
          format: date-time
        truncated:
          description: True if the limit of dimension values was reached and results were truncated. Limit value is 50.
          type: boolean
        limit:
          description: |
            Applied query cardinality limit.
          type: number
        granularity_ms:
          description: 'The resulting time bucket for the returned data. If `time` was not specified as a dimension, granularity is the duration of the query.'
          type: integer
        query_id:
          description: Optional ID used to look up the query.
          type: string
      additionalProperties: false
    QueryResponseEvent:
      description: A response record.
      type: object
      properties:
        event:
          description: Event within the response. Mapping from the requested metrics and dimensions to the values.
          type: object
          properties:
            request_count:
              description: The number or requests metric.
              type: integer
            request_per_minute:
              description: The number of requests per minute metric.
              type: number
            response_latency_average:
              description: Average response latency metric in milliseconds.
              type: number
            response_size_average:
              description: Average response size metric in bytes.
              type: number
            response_size_sum:
              description: Sum response size metric in bytes.
              type: number
            request_size_average:
              description: Average request size metric in bytes.
              type: number
            request_size_sum:
              description: Sum request size metric in bytes.
              type: number
            api:
              description: Id representing an API
              type: string
            application:
              description: Id representing an Application
              type: string
            status_code:
              description: Value for status_code.
              type: string
            status_code_grouped:
              description: Value for status_code_grouped.
              type: string
        timestamp:
          description: An ISO-8601 timestamp. If `time` was requested as a dimension this will be the start of the time bucket. If not specified this is the start time of the query.
          type: string
          format: date-time
          example: '2023-08-03T15:00:00.000Z'
      additionalProperties: false
    QueryResponseData:
      description: Query response data.
      type: array
      items:
        $ref: '#/components/schemas/QueryResponseEvent'
    GetConfigResponse:
      type: object
      properties:
        analytics:
          description: Null if analytics is not enabled.
          type: object
          additionalProperties: false
          nullable: true
          properties:
            percentiles:
              description: True if analytics percentiles are enabled.
              type: boolean
            retention_ms:
              description: Analytics retention in milliseconds.
              type: integer
          required:
            - percentiles
            - retention_ms
      additionalProperties: false
      required:
        - analytics
    BaseError:
      description: standard error
      type: object
      properties:
        status:
          description: |
            The HTTP status code of the error. Useful when passing the response
            body to child properties in a frontend UI. Must be returned as an integer.
          type: integer
          readOnly: true
        title:
          description: |
            A short, human-readable summary of the problem. It should not
            change between occurences of a problem, except for localization.
            Should be provided as "Sentence case" for direct use in the UI.
          type: string
          readOnly: true
        type:
          description: The error type.
          type: string
          readOnly: true
        instance:
          description: |
            Used to return the correlation ID back to the user, in the format
            kong:trace:<correlation_id>. This helps us find the relevant logs
            when a customer reports an issue.
          type: string
          readOnly: true
        detail:
          description: |
            A human readable explanation specific to this occurence of the problem.
            This field may contain request/entity data to help the user understand
            what went wrong. Enclose variable values in square brackets. Should be
            provided as "Sentence case" for direct use in the UI.
          type: string
          readOnly: true
      required:
        - status
        - title
        - instance
        - detail
      title: Error
    ForbiddenError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          properties:
            status:
              example: 403
            title:
              example: Forbidden
            type:
              example: 'https://httpstatuses.com/403'
            instance:
              example: 'kong:trace:1234567890'
            detail:
              example: Forbidden
    UnauthorizedError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          properties:
            status:
              example: 401
            title:
              example: Unauthorized
            type:
              example: 'https://httpstatuses.com/401'
            instance:
              example: 'kong:trace:1234567890'
            detail:
              example: Invalid credentials
    ApiSlug:
      description: |
        The Api `slug` is used in generated URLs to provide human readable paths.

        Defaults to `slugify(name + version)`
      type: string
      example: my-api-v1
      pattern: '^[\w-]+$'
    ApiId:
      description: The API identifier.
      type: string
      format: uuid
      example: 9f5061ce-78f6-4452-9108-ad7c02821fd5
      readOnly: true
    ApiActionsResponse:
      type: object
      properties:
        actions:
          description: List of actions that can be performed on the API
          type: object
          additionalProperties: false
          properties:
            view:
              type: boolean
            register:
              type: boolean
            view_documentation:
              type: boolean
          required:
            - view
            - register
            - view_documentation
      example:
        actions:
          view: true
          register: false
          view_documentation: true
      additionalProperties: false
      required:
        - actions
      title: API Actions Response
    Api:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        name:
          description: Name of API.
          type: string
          example: Billing
        version:
          description: Version of API.
          type: string
          example: v1
          nullable: true
        description:
          type: string
          example: V1 API for billing functions
          nullable: true
        visibility:
          description: |
            Visibility of the API listing.
            Public APIs are visible to anyone and do not require authentication to view and retrieve information about them.
            Private APIs are only visible to authenticated developers who have been granted access.
          type: string
          enum:
            - public
            - private
        slug:
          description: |
            The API `slug` is used in generated URLs to provide human readable paths.

            Defaults to `slugify(name + version)`
          type: string
          example: my-api-v1
          nullable: false
          pattern: '^[\w-]+$'
        auth_strategies:
          description: Configurations for how the API is able to be registered for by applications.
          type: array
          items:
            $ref: '#/components/schemas/AuthStrategy'
        specifications:
          description: |
            Returns a list of specifications for an API.
            **Note:** This Beta property is deprecated and will be removed in a GA release.
          type: array
          items:
            type: object
            required:
              - id
              - type
            properties:
              id:
                description: The API specification identifier.
                type: string
                format: uuid
                example: 7710d5c4-d902-410b-992f-18b814155b53
                readOnly: true
              type:
                $ref: '#/components/schemas/ApiSpecType'
          deprecated: true
        current_version_summary:
          description: |
            Summary of the current version (version string of api.version matches version)
          type: object
          additionalProperties: false
          nullable: true
          properties:
            id:
              description: The API version identifier.
              type: string
              format: uuid
              example: 7710d5c4-d902-410b-992f-18b814155b53
              readOnly: true
            spec:
              type: object
              additionalProperties: false
              properties:
                type:
                  $ref: '#/components/schemas/ApiSpecType'
              required:
                - type
          required:
            - id
            - spec
        attributes:
          description: A set of attributes that describe the API
          type: object
          example:
            availability:
              - general
            domain:
              - financial
              - billing
          additionalProperties:
            description: Set of unique attribute names
            type: array
            items:
              description: A value associated with the attribute
              type: string
      additionalProperties: false
      required:
        - id
        - created_at
        - updated_at
        - name
        - version
        - description
        - visibility
        - slug
        - specifications
        - attributes
      title: Api
    ApiListPage:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
        data:
          type: array
          items:
            $ref: '#/components/schemas/Api'
      required:
        - meta
        - data
      title: ApiListPage
    ApiListApplicationsPage:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
        data:
          type: array
          items:
            $ref: '#/components/schemas/ApiApplication'
      additionalProperties: false
      required:
        - meta
        - data
      title: ApiListApplicationsPage
    ApiApplication:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        name:
          description: The name of the application
          type: string
        registration_id:
          $ref: '#/components/schemas/NullableUUID'
        registration_status:
          type: string
          enum:
            - approved
            - pending
            - rejected
            - revoked
          nullable: true
        auth_strategy:
          $ref: '#/components/schemas/AuthStrategy'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - id
        - name
        - created_at
        - updated_at
        - registration_status
        - registration_id
      title: ApiApplication
    ApiVersionSummary:
      description: Summary of an API version.
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        version:
          description: The version string of the API version .
          type: string
          example: v1.0.0
        spec:
          type: object
          additionalProperties: false
          properties:
            type:
              $ref: '#/components/schemas/ApiSpecType'
          required:
            - type
      additionalProperties: false
      required:
        - id
        - version
        - spec
      title: ApiVersionSummary
    ApiSpecDocumentSummary:
      description: Info about an API specification document.
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        api_type:
          $ref: '#/components/schemas/ApiSpecType'
      required:
        - id
        - api_type
      title: ApiSpecDocumentSummary
    ApiSpecDocument:
      description: API specification document.
      type: object
      properties:
        api_type:
          $ref: '#/components/schemas/ApiSpecType'
        content:
          type: string
      required:
        - api_type
        - content
      title: ApiSpecDocument
    ApiVersion:
      description: Singular version of an API
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        version:
          description: The version string of the API version .
          type: string
          example: v1.0.0
        spec:
          type: object
          additionalProperties: false
          properties:
            type:
              $ref: '#/components/schemas/ApiSpecType'
            content:
              description: The JSON string or YAML content of the API specification.
              type: string
          required:
            - type
      additionalProperties: false
      required:
        - id
        - version
        - spec
      title: ApiVersion
    ApiDocument:
      description: A document for an API. This is a document that is not a part of the API specification.
      type: object
      properties:
        id:
          description: Unique identifier of the document.
          type: string
          format: uuid
          example: 5f9fd312-a987-4628-b4c5-bb4f4fddd5f7
          readOnly: true
        parent_document_id:
          description: Unique identifier of the parent document.
          type: string
          format: uuid
          example: dd4e1b98-3629-4dd3-acc0-759a726ffee2
          nullable: true
        slug:
          description: Slug of the document. This is used in the URL to identify the document.
          type: string
          example: getting-started
        content:
          description: Markdown document
          example: |
            # My Kong api

            This api is powered by Konnect
          type: string
        title:
          description: Title of the document.
          type: string
          example: Hello World
      additionalProperties: false
      required:
        - id
        - slug
        - title
        - content
      title: ApiDocument
    ApiDocumentTree:
      description: a document tree
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: d32d905a-ed33-46a3-a093-d8f536af9a8a
        parent_document_id:
          type: string
          format: uuid
          example: dd4e1b98-3629-4dd3-acc0-759a726ffee2
          nullable: true
        title:
          description: the title of the document
          type: string
          example: Getting Started
        slug:
          description: the slug of the document
          type: string
          example: getting-started
        children:
          type: array
          items:
            $ref: '#/components/schemas/ApiDocumentTree'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - id
        - title
        - slug
        - children
        - updated_at
        - created_at
      title: ApiDocumentTree
    ListApiAttributesPage:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
        data:
          type: array
          items:
            $ref: '#/components/schemas/ApiAttributeItem'
      additionalProperties: false
      required:
        - meta
        - data
      title: ListApiAttributesPage
    ApiAttributeItem:
      type: object
      properties:
        key:
          type: string
        values:
          type: array
          items:
            type: object
            additionalProperties: false
            required:
              - value
              - api_count
            properties:
              value:
                type: string
              api_count:
                type: number
              selected_api_count:
                description: |
                  The number of APIs that match this attribute value when considering the selected filters.
                  Only present when the 'selected' query parameter is provided.
                type: number
      additionalProperties: false
      required:
        - key
        - values
      title: ApiAttributeItem
    ApiFilterParameters:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UuidFieldFilter'
        name:
          $ref: '#/components/schemas/StringFieldFilter'
        version:
          $ref: '#/components/schemas/StringFieldFilter'
        description:
          $ref: '#/components/schemas/StringFieldFilter'
        attributes:
          $ref: '#/components/schemas/AttributesFieldFilter'
        created_at:
          $ref: '#/components/schemas/DateTimeFieldFilter'
        updated_at:
          $ref: '#/components/schemas/DateTimeFieldFilter'
      title: ApiFilterParameters
    ApiAttributeFilterParameters:
      type: object
      properties:
        key:
          $ref: '#/components/schemas/StringFieldFilter'
      title: API Attribute Filter Parameters
    DocumentId:
      type: string
      format: uuid
      example: d32d905a-ed33-46a3-a093-d8f536af9a8a
    DocumentSlug:
      description: Slug of the document. This is used in the URL to identify the document.
      type: string
      example: getting-started
      pattern: '^[\w-]+$'
    ApplicationFilterParameter:
      type: object
      properties:
        name:
          $ref: '#/components/schemas/StringFieldFilter'
      title: ApplicationFilterParameter
    UUID:
      description: Contains a unique identifier used for this resource.
      type: string
      format: uuid
      example: 5f9fd312-a987-4628-b4c5-bb4f4fddd5f7
      readOnly: true
    CreatedAt:
      description: An ISO-8601 timestamp representation of entity creation date.
      type: string
      format: date-time
      example: '2022-11-04T20:10:06.927Z'
      readOnly: true
    UpdatedAt:
      description: An ISO-8601 timestamp representation of entity update date.
      type: string
      format: date-time
      example: '2022-11-04T20:10:06.927Z'
      readOnly: true
    AuthStrategyKeyAuth:
      description: KeyAuth Auth strategy that the application uses.
      type: object
      properties:
        id:
          description: The Application Auth Strategy ID.
          type: string
          format: uuid
          example: b9e81174-b5bb-4638-a3c3-8afe61a0abf8
          readOnly: true
        name:
          type: string
          example: name
          default: name
        credential_type:
          type: string
          enum:
            - key_auth
        key_names:
          type: array
          items:
            type: string
        ttl:
          description: Default maximum Time-To-Live for keys created under this strategy.
          type: object
          properties:
            value:
              type: integer
              minimum: 1
            unit:
              type: string
              enum:
                - days
                - weeks
                - years
          required:
            - value
            - unit
      additionalProperties: false
      required:
        - id
        - name
        - credential_type
        - key_names
    AuthMethods:
      type: array
      items:
        description: Auth Methods enabled for this strategy
        type: string
      example:
        - bearer
    AvailableScopes:
      description: Possible developer selectable scopes for an application. Only present when using DCR Provider that supports it.
      type: array
      items:
        type: string
      example:
        - scope1
        - scope2
    AuthStrategyClientCredentials:
      description: Client Credential Auth strategy that the application uses.
      type: object
      properties:
        id:
          description: The Application Auth Strategy ID.
          type: string
          format: uuid
          example: b9e81174-b5bb-4638-a3c3-8afe61a0abf8
          readOnly: true
        name:
          type: string
          example: name
          default: name
        credential_type:
          type: string
          enum:
            - client_credentials
            - self_managed_client_credentials
        auth_methods:
          $ref: '#/components/schemas/AuthMethods'
        available_scopes:
          $ref: '#/components/schemas/AvailableScopes'
      additionalProperties: false
      required:
        - id
        - name
        - credential_type
        - auth_methods
    AuthStrategy:
      type: object
      discriminator:
        propertyName: credential_type
      oneOf:
        - $ref: '#/components/schemas/AuthStrategyKeyAuth'
        - $ref: '#/components/schemas/AuthStrategyClientCredentials'
    ApiSpecType:
      description: |
        The type of specification being stored. This allows us to render the specification correctly.
      type: string
      example: oas3
      enum:
        - oas2
        - oas3
        - asyncapi
      title: API Spec Type
    InvalidRules:
      description: invalid parameters rules
      type: string
      enum:
        - required
        - is_array
        - is_base64
        - is_boolean
        - is_date_time
        - is_integer
        - is_null
        - is_number
        - is_object
        - is_string
        - is_uuid
        - is_fqdn
        - is_arn
        - unknown_property
        - missing_reference
        - is_label
        - matches_regex
        - invalid
        - is_supported_network_availability_zone_list
        - is_supported_network_cidr_block
        - is_supported_provider_region
        - type
      nullable: true
      readOnly: true
    InvalidParameterStandard:
      type: object
      properties:
        field:
          type: string
          example: name
          readOnly: true
        rule:
          $ref: '#/components/schemas/InvalidRules'
        source:
          type: string
          example: body
        reason:
          type: string
          example: is a required field
          readOnly: true
      additionalProperties: false
      required:
        - field
        - reason
    InvalidParameterMinimumLength:
      type: object
      properties:
        field:
          type: string
          example: name
          readOnly: true
        rule:
          description: invalid parameters rules
          type: string
          enum:
            - min_length
            - min_digits
            - min_lowercase
            - min_uppercase
            - min_symbols
            - min_items
            - min
          nullable: false
          readOnly: true
        minimum:
          type: integer
          example: 8
        source:
          type: string
          example: body
        reason:
          type: string
          example: must have at least 8 characters
          readOnly: true
      additionalProperties: false
      required:
        - field
        - reason
        - rule
        - minimum
    InvalidParameterMaximumLength:
      type: object
      properties:
        field:
          type: string
          example: name
          readOnly: true
        rule:
          description: invalid parameters rules
          type: string
          enum:
            - max_length
            - max_items
            - max
          nullable: false
          readOnly: true
        maximum:
          type: integer
          example: 8
        source:
          type: string
          example: body
        reason:
          type: string
          example: must not have more than 8 characters
          readOnly: true
      additionalProperties: false
      required:
        - field
        - reason
        - rule
        - maximum
    InvalidParameterChoiceItem:
      type: object
      properties:
        field:
          type: string
          example: name
          readOnly: true
        rule:
          description: invalid parameters rules
          type: string
          enum:
            - enum
          nullable: false
          readOnly: true
        reason:
          type: string
          example: is a required field
          readOnly: true
        choices:
          type: array
          items: {}
          minItems: 1
          nullable: false
          readOnly: true
          uniqueItems: true
        source:
          type: string
          example: body
      additionalProperties: false
      required:
        - field
        - reason
        - rule
        - choices
    InvalidParameterDependentItem:
      type: object
      properties:
        field:
          type: string
          example: name
          readOnly: true
        rule:
          description: invalid parameters rules
          type: string
          enum:
            - dependent_fields
          nullable: true
          readOnly: true
        reason:
          type: string
          example: is a required field
          readOnly: true
        dependents:
          type: array
          items: {}
          nullable: true
          readOnly: true
          uniqueItems: true
        source:
          type: string
          example: body
      additionalProperties: false
      required:
        - field
        - rule
        - reason
        - dependents
    InvalidParameters:
      description: invalid parameters
      type: array
      items:
        oneOf:
          - $ref: '#/components/schemas/InvalidParameterStandard'
          - $ref: '#/components/schemas/InvalidParameterMinimumLength'
          - $ref: '#/components/schemas/InvalidParameterMaximumLength'
          - $ref: '#/components/schemas/InvalidParameterChoiceItem'
          - $ref: '#/components/schemas/InvalidParameterDependentItem'
      minItems: 1
      nullable: false
      uniqueItems: true
    BadRequestError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          required:
            - invalid_parameters
          properties:
            invalid_parameters:
              $ref: '#/components/schemas/InvalidParameters'
    NotFoundError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          properties:
            status:
              example: 404
            title:
              example: Not Found
            type:
              example: 'https://httpstatuses.com/404'
            instance:
              example: 'kong:trace:1234567890'
            detail:
              example: Not found
    StringFieldEqualsFilter:
      description: Filters on the given string field value by exact match.
      oneOf:
        - type: string
        - type: object
          title: StringFieldEqualsComparison
          additionalProperties: false
          properties:
            eq:
              type: string
          required:
            - eq
      title: StringFieldEqualsFilter
      x-examples:
        example-1: equals-some-value
        example-2:
          eq: some-value
    StringFieldOEQFilter:
      description: Returns entities that exact match any of the comma-delimited phrases in the filter string.
      type: object
      properties:
        oeq:
          type: string
      additionalProperties: false
      required:
        - oeq
      title: StringFieldOEQFilter
      x-examples:
        example-1:
          oeq: 'some-value,some-other-value'
    StringFieldNEQFilter:
      description: Filters on the given string field value by exact match inequality.
      type: object
      properties:
        neq:
          type: string
      additionalProperties: false
      required:
        - neq
      title: StringFieldNEQFilter
      x-examples:
        example-1:
          neq: not-this-value
    UuidFieldFilter:
      description: Filters on the given UUID field value by exact match.
      oneOf:
        - $ref: '#/components/schemas/StringFieldEqualsFilter'
        - $ref: '#/components/schemas/StringFieldOEQFilter'
        - $ref: '#/components/schemas/StringFieldNEQFilter'
      title: UuidFieldFilter
      x-examples:
        example-1: 3bbfd3a-e9ab-48a9-9881-ed589e4615d1
        example-2:
          eq: 3bbfd3a-e9ab-48a9-9881-ed589e4615d1
        example-3:
          oeq: 3bbfd3a-e9ab-48a9-9881-ed589e4615d1
        example-4:
          neq: 3bbfd3a-e9ab-48a9-9881-ed589e4615d1
    StringFieldContainsFilter:
      description: Filters on the given string field value by fuzzy match.
      type: object
      properties:
        contains:
          type: string
      additionalProperties: false
      required:
        - contains
      title: StringFieldContainsFilter
      x-examples:
        example-1:
          contains: some-value
    StringFieldOContainsFilter:
      description: Returns entities that fuzzy-match any of the comma-delimited phrases in the filter string.
      type: object
      properties:
        ocontains:
          type: string
      additionalProperties: false
      required:
        - ocontains
      title: StringFieldOContainsFilter
      x-examples:
        example-1:
          ocontains: 'this-value,or-that-value'
    StringFieldFilter:
      description: Filters on the given string field value by either exact or fuzzy match.
      oneOf:
        - $ref: '#/components/schemas/StringFieldEqualsFilter'
        - $ref: '#/components/schemas/StringFieldContainsFilter'
        - $ref: '#/components/schemas/StringFieldOContainsFilter'
        - $ref: '#/components/schemas/StringFieldOEQFilter'
        - $ref: '#/components/schemas/StringFieldNEQFilter'
      title: StringFieldFilter
      x-examples:
        example-1: equals-some-value
        example-2:
          eq: some-value
        example-3:
          contains: some-value
        example-4:
          ocontains: 'some-potential,value'
        example-5:
          oeq: 'some-potential,value'
        example-6:
          neq: not-this-value
    AttributesFieldFilter:
      allOf:
        - title: AttributesFieldFilter
          description: |
            Filters on the resource's `attributes` field. Filters must use dot-notation to identify
            the attribute key that will be used to filter the results. For example:
              - `filter[attributes.owner]`
              - `filter[attributes.owner][neq]=kong`
              - `filter[attributes.env]=dev`
              - `filter[attributes.env][ocontains]=dev,test`
        - $ref: '#/components/schemas/StringFieldFilter'
    DateTimeFieldFilter:
      description: Filters on the given datetime (RFC-3339) field value.
      oneOf:
        - type: string
          title: DateTimeFieldImplicitEqualsFilter
          format: date-time
          description: Value strictly equals given RFC-3339 formatted timestamp in UTC
          example: '2022-03-30T07:20:50Z'
        - type: object
          title: DateTimeFieldEqualsFilter
          additionalProperties: false
          properties:
            eq:
              description: Value strictly equals given RFC-3339 formatted timestamp in UTC
              type: string
              format: date-time
              example: '2022-03-30T07:20:50Z'
          required:
            - eq
        - type: object
          title: DateTimeFieldLTFilter
          additionalProperties: false
          properties:
            lt:
              description: Value is less than the given RFC-3339 formatted timestamp in UTC
              type: string
              format: date-time
              example: '2022-03-30T07:20:50Z'
          required:
            - lt
        - type: object
          title: DateTimeFieldLTEFilter
          additionalProperties: false
          properties:
            lte:
              description: Value is less than or equal to the given RFC-3339 formatted timestamp in UTC
              type: string
              format: date-time
              example: '2022-03-30T07:20:50Z'
          required:
            - lte
        - type: object
          title: DateTimeFieldGTFilter
          additionalProperties: false
          properties:
            lt:
              description: Value is greater than the given RFC-3339 formatted timestamp in UTC
              type: string
              format: date-time
              example: '2022-03-30T07:20:50Z'
          required:
            - gt
        - type: object
          title: DateTimeFieldGTEFilter
          additionalProperties: false
          properties:
            lte:
              description: Value is greater than or equal to the given RFC-3339 formatted timestamp in UTC
              type: string
              format: date-time
              example: '2022-03-30T07:20:50Z'
          required:
            - gte
      title: DateTimeFieldFilter
      x-examples:
        datetime_field_1: '2022-03-30T07:20:50Z'
        datetime_field_2:
          eq: '2022-03-30T07:20:50Z'
        datetime_field_3:
          lt: '2022-03-30T07:20:50Z'
        datetime_field_4:
          lte: '2022-03-30T07:20:50Z'
        datetime_field_5:
          gt: '2022-03-30T07:20:50Z'
        datetime_field_6:
          gte: '2022-03-30T07:20:50Z'
    SortQuery:
      description: |
        The `asc` suffix is optional as the default sort order is ascending.
        The `desc` suffix is used to specify a descending order.
        Multiple sort attributes may be provided via a comma separated list.
        JSONPath notation may be used to specify a sub-attribute (eg: 'foo.bar desc').
      type: string
      example: created_at desc
      title: SortQuery
    PageMeta:
      description: Contains pagination query parameters and the total number of objects returned.
      type: object
      properties:
        number:
          type: number
          example: 1
        size:
          type: number
          example: 10
        total:
          type: number
          example: 100
      required:
        - number
        - size
        - total
    PaginatedMeta:
      description: returns the pagination information
      type: object
      properties:
        page:
          $ref: '#/components/schemas/PageMeta'
      required:
        - page
      title: PaginatedMeta
    DocumentFormatContentTypeEnum:
      type: string
      default: application/json
      enum:
        - text/markdown
        - application/json
        - application/vnd.konnect.document-nodes+json
    NullableUUID:
      description: Contains a unique identifier for a resource.
      type: string
      format: uuid
      example: 5f9fd312-a987-4628-b4c5-bb4f4fddd5f7
      nullable: true
    ListApplicationsResponse:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
        data:
          type: array
          items:
            $ref: '#/components/schemas/GetApplicationResponse'
      additionalProperties: false
      required:
        - data
        - meta
    ApplicationClientId:
      description: |
        A unique value used to identify the portal application when authenticating with a Client Secret.
      type: string
      maxLength: 255
    ApplicationClientSecret:
      description: |
        The client secret used to authenticate with registered APIs.
      type: string
      maxLength: 255
    GetApplicationResponse:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        name:
          type: string
        client_id:
          $ref: '#/components/schemas/ApplicationClientId'
        description:
          type: string
          nullable: true
        redirect_uri:
          type: string
          nullable: true
        auth_strategy:
          $ref: '#/components/schemas/PortalAuthStrategy'
        scopes:
          $ref: '#/components/schemas/Scopes'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - id
        - name
        - description
        - updated_at
        - created_at
    CreateApplicationPayload:
      description: Application creation payload
      type: object
      properties:
        name:
          description: The name of the application
          type: string
          maxLength: 255
        client_id:
          $ref: '#/components/schemas/ApplicationClientId'
        redirect_uri:
          description: URL to redirect to after completing an OIDC auth flow
          type: string
          format: uri
        description:
          description: A brief description of the application
          type: string
          maxLength: 255
        auth_strategy_id:
          $ref: '#/components/schemas/AuthStrategyId'
        scopes:
          $ref: '#/components/schemas/Scopes'
      additionalProperties: false
      required:
        - name
      title: CreateApplicationPayload
    ApplicationCreationResponse:
      description: Application creation response payload
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        name:
          type: string
        description:
          type: string
          nullable: true
        redirect_uri:
          type: string
          nullable: true
        client_id:
          $ref: '#/components/schemas/ApplicationClientId'
        client_secret:
          $ref: '#/components/schemas/ApplicationClientSecret'
        auth_strategy:
          $ref: '#/components/schemas/PortalAuthStrategy'
        scopes:
          $ref: '#/components/schemas/Scopes'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - id
        - name
        - description
        - created_at
        - updated_at
        - auth_strategy
      title: ApplicationCreationResponse
    UpdateApplicationPayload:
      description: Payload required to update an application
      type: object
      properties:
        name:
          description: The name of the application
          type: string
          maxLength: 255
        client_id:
          $ref: '#/components/schemas/ApplicationClientId'
        redirect_uri:
          description: URL to redirect to after completing an OIDC auth flow
          type: string
          format: uri
          nullable: true
        description:
          description: A brief description of the application
          type: string
          maxLength: 255
        scopes:
          $ref: '#/components/schemas/Scopes'
      additionalProperties: false
      title: UpdateApplicationPayload
    ApplicationUpdateResponse:
      description: Application update response payload
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        name:
          type: string
        client_id:
          $ref: '#/components/schemas/ApplicationClientId'
        description:
          type: string
          example: A brief description of the application
          nullable: true
        redirect_uri:
          type: string
          example: 'https://example.com/callback'
          nullable: true
        auth_strategy:
          $ref: '#/components/schemas/PortalAuthStrategy'
        scopes:
          $ref: '#/components/schemas/Scopes'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - id
        - name
        - description
        - updated_at
        - created_at
      title: ApplicationUpdateResponse
    RegenerateSecretResponse:
      description: Regenerate secret response
      type: object
      properties:
        client_id:
          type: string
        client_secret:
          type: string
      additionalProperties: false
      required:
        - client_id
        - client_secret
      title: Regenerate secret response
    PortalAuthStrategyKeyAuth:
      description: KeyAuth Auth strategy that the application uses.
      type: object
      properties:
        id:
          description: The Application Auth Strategy ID.
          type: string
          format: uuid
          example: b9e81174-b5bb-4638-a3c3-8afe61a0abf8
          readOnly: true
        name:
          type: string
          example: name
          default: name
        credential_type:
          type: string
          enum:
            - key_auth
        key_names:
          type: array
          items:
            type: string
          example:
            - apikey
        ttl:
          description: Default maximum Time-To-Live for keys created under this strategy.
          type: object
          properties:
            value:
              type: integer
              minimum: 1
            unit:
              type: string
              enum:
                - days
                - weeks
                - years
          required:
            - value
            - unit
      required:
        - id
        - name
        - credential_type
        - key_names
    PortalAuthStrategyClientCredentials:
      description: Client Credential Auth strategy that the application uses.
      type: object
      properties:
        id:
          description: The Application Auth Strategy ID.
          type: string
          format: uuid
          example: b9e81174-b5bb-4638-a3c3-8afe61a0abf8
          readOnly: true
        available_scopes:
          $ref: '#/components/schemas/AvailableScopes'
        name:
          type: string
          example: name
          default: name
        credential_type:
          type: string
          enum:
            - client_credentials
            - self_managed_client_credentials
        auth_methods:
          $ref: '#/components/schemas/AuthMethods'
      required:
        - id
        - name
        - credential_type
        - auth_methods
    PortalAuthStrategy:
      type: object
      discriminator:
        propertyName: credential_type
      oneOf:
        - $ref: '#/components/schemas/PortalAuthStrategyKeyAuth'
        - $ref: '#/components/schemas/PortalAuthStrategyClientCredentials'
    Scopes:
      description: The granted scopes for the application. Will only be included if supported by the application's auth strategy.
      type: array
      items:
        type: string
    AuthStrategyId:
      description: 'ID of the auth strategy to use for the application. If null or not included, the default application auth strategy will be used.'
      type: string
      format: uuid
      nullable: true
    ConflictError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          properties:
            status:
              example: 409
            title:
              example: Conflict
            type:
              example: 'https://httpstatuses.com/409'
            instance:
              example: 'kong:trace:1234567890'
            detail:
              example: Conflict
    TooManyRequestsError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          properties:
            status:
              example: 429
            title:
              example: Too Many Requests
            type:
              example: 'https://httpstatuses.com/429'
            instance:
              example: 'kong:trace:1234567890'
            detail:
              example: Too Many Requests
    ApiKeyCredentialListItem:
      description: API key credential returned when listing credentials.
      type: object
      properties:
        type:
          type: string
          enum:
            - api_key
          readOnly: true
        id:
          $ref: '#/components/schemas/UUID'
        display_name:
          type: string
        status:
          type: string
          enum:
            - active
            - expired
            - revoked
          readOnly: true
        expires_at:
          type: string
          format: date-time
          nullable: true
          readOnly: true
      additionalProperties: false
      required:
        - type
        - id
        - display_name
    CredentialListItem:
      type: object
      discriminator:
        propertyName: type
      oneOf:
        - $ref: '#/components/schemas/ApiKeyCredentialListItem'
    ListCredentialsResponse:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
        data:
          type: array
          items:
            $ref: '#/components/schemas/CredentialListItem'
      additionalProperties: false
      required:
        - data
        - meta
    CreateCredentialRequest:
      type: object
      properties:
        display_name:
          type: string
          maxLength: 255
      additionalProperties: false
    ApiKeyCredentialCreationResponse:
      description: Response when creating an API key credential.
      type: object
      properties:
        type:
          type: string
          enum:
            - api_key
          readOnly: true
        id:
          $ref: '#/components/schemas/UUID'
        display_name:
          type: string
        credential:
          description: The API key value (only returned on creation)
          type: string
        status:
          type: string
          enum:
            - active
            - expired
            - revoked
          readOnly: true
        expires_at:
          type: string
          format: date-time
          nullable: true
          readOnly: true
      additionalProperties: false
      required:
        - type
        - id
        - display_name
        - credential
    CredentialCreationResponse:
      type: object
      discriminator:
        propertyName: type
      oneOf:
        - $ref: '#/components/schemas/ApiKeyCredentialCreationResponse'
    UpdateCredentialRequest:
      type: object
      properties:
        display_name:
          type: string
          maxLength: 255
      additionalProperties: false
      required:
        - display_name
    RefreshedGrantedScopes:
      description: 'List of granted scopes, directly updated from the IDP'
      type: array
      items:
        type: string
    GetGrantedScopesAPIResponse:
      type: object
      properties:
        scopes:
          $ref: '#/components/schemas/RefreshedGrantedScopes'
      additionalProperties: false
      required:
        - scopes
    UnprocessableContentError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          properties:
            status:
              example: 422
            title:
              example: Unprocessable Content
            type:
              example: 'https://httpstatuses.com/422'
            instance:
              example: 'kong:trace:1234567891'
            detail:
              example: Unprocessable Content
    ListAuthStrategiesResponse:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
        data:
          type: array
          items:
            $ref: '#/components/schemas/PortalAuthStrategy'
      additionalProperties: false
      required:
        - data
        - meta
    AuthenticateRequest:
      description: The request schema for the authenticate endpoint.
      type: object
      properties:
        username:
          type: string
          format: email
          example: developer@example.com
          writeOnly: true
        password:
          type: string
          format: password
          example: <!N0taP@$$w0rd!>
          writeOnly: true
      example:
        username: developer@example.com
        password: <!N0taP@$$w0rd!>
      additionalProperties: false
      required:
        - username
        - password
      title: AuthenticateRequest
    ResetPasswordRequest:
      description: The request schema for the reset password endpoint.
      type: object
      properties:
        password:
          type: string
          format: password
          example: <!N0taP@$$w0rd!>
          writeOnly: true
        token:
          type: string
          format: uuid
          example: c8efd006-d8e1-4743-b91b-f163b9eae06a
          writeOnly: true
      example:
        password: <!D3finitelyN0taP@$$w0rd!>
        token: c8efd006-d8e1-4743-b91b-f163b9eae06a
      additionalProperties: false
      required:
        - password
        - token
      title: ResetPasswordRequest
    VerifyEmailRequest:
      description: The request schema for the verify email endpoint.
      type: object
      properties:
        token:
          type: string
          format: uuid
          example: c8efd006-d8e1-4743-b91b-f163b9eae06a
          writeOnly: true
      example:
        token: c8efd006-d8e1-4743-b91b-f163b9eae06a
      additionalProperties: false
      required:
        - token
      title: VerifyEmailRequest
    VerifyEmailResponse:
      description: The response schema for the verify email endpoint.
      type: object
      properties:
        email:
          type: string
          format: email
          example: developer@example.com
          readOnly: true
        token:
          type: string
          format: uuid
          example: c8efd006-d8e1-4743-b91b-f163b9eae06a
          readOnly: true
      example:
        email: developer@example.com
        token: c8efd006-d8e1-4743-b91b-f163b9eae06a
      additionalProperties: false
      title: VerifyEmailResponse
    GoneError:
      allOf:
        - $ref: '#/components/schemas/BaseError'
        - type: object
          properties:
            status:
              example: 410
            title:
              example: Gone
            type:
              example: 'https://httpstatuses.com/410'
            instance:
              example: 'kong:trace:1234567890'
            detail:
              example: Gone
    Developer:
      description: A user who can use a developer portal
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        email:
          type: string
          format: email
          example: developer@email.com
          maxLength: 250
        full_name:
          type: string
          example: API Developer
          maxLength: 250
          pattern: '^[\w \W]+$'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - full_name
        - email
      title: Developer
    RegisterPayload:
      description: |
        Payload required to be sent to register a developer to the
        portal.
      type: object
      properties:
        email:
          type: string
          format: email
          example: developer@konghq.com
        full_name:
          type: string
          example: Jane Doe
          maxLength: 256
          minLength: 1
      additionalProperties: true
      required:
        - full_name
        - email
      title: RegisterPayload
    ResetPasswordPayload:
      description: |
        Payload required to start the reset password flow
      type: object
      properties:
        email:
          type: string
          format: email
          example: developer@konghq.com
      additionalProperties: false
      required:
        - email
      title: ResetPasswordPayload
    PortalContext:
      description: Describes the portal execution context
      type: object
      properties:
        portal_id:
          description: ID of the portal
          type: string
          format: uuid
        org_id:
          description: ID of the organization
          type: string
          format: uuid
        basic_auth_enabled:
          description: Whether the portal can be accessed via email and password
          type: boolean
        oidc_auth_enabled:
          description: Whether the portal can be accessed via authentication with Single Sign On (SSO) through OpenID Connect (OIDC) from a third-party Identity Provider
          type: boolean
        saml_auth_enabled:
          description: Whether the portal can be accessed via SAML authentication
          type: boolean
        authentication_enabled:
          description: Whether authentication is enabled for the portal
          type: boolean
        rbac_enabled:
          description: Whether Role-Based Access Control is enabled for the portal
          type: boolean
        name:
          description: Name of the developer portal
          type: string
        canonical_domain:
          description: The canonical domain of the developer portal
          type: string
      additionalProperties: false
      required:
        - portal_id
        - org_id
        - basic_auth_enabled
        - oidc_auth_enabled
        - saml_auth_enabled
        - authentication_enabled
        - rbac_enabled
        - name
        - canonical_domain
      title: PortalContext
    PortalCustomization:
      description: The custom settings of this portal
      type: object
      properties:
        theme:
          type: object
          additionalProperties: false
          properties:
            name:
              type: string
              nullable: false
            mode:
              type: string
              enum:
                - light
                - dark
                - system
            colors:
              type: object
              additionalProperties: false
              properties:
                primary:
                  type: string
                  example: '#000000'
                  nullable: false
                  pattern: '^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$'
                  x-validation-message: must be a valid hex color value
        layout:
          type: string
          nullable: false
        css:
          type: string
          nullable: true
        menu:
          type: object
          additionalProperties: false
          properties:
            main:
              type: array
              items:
                $ref: '#/components/schemas/PortalMenuItem'
            footer_sections:
              type: array
              items:
                $ref: '#/components/schemas/PortalFooterMenuSection'
            footer_bottom:
              type: array
              items:
                $ref: '#/components/schemas/PortalMenuItem'
        spec_renderer:
          type: object
          additionalProperties: false
          properties:
            try_it_ui:
              description: Enable in-browser testing for your APIs. All linked gateways must have the CORS plugin configured.
              type: boolean
              default: true
            try_it_insomnia:
              description: Enables users to open API specifications in Insomnia to explore and send requests with the native client. Only public API specifications are supported.
              type: boolean
              default: true
            infinite_scroll:
              description: 'Display the full spec on a single, scrollable page. If disabled, documentation, endpoints, and schemas appear on separate pages.'
              type: boolean
              default: true
            show_schemas:
              description: 'Control whether schemas are visible in your API specs. When enabled, schemas appear in the side navigation below the endpoints.'
              type: boolean
              default: true
            hide_internal:
              description: Manage visibility of internal endpoints and models.
              type: boolean
              default: false
            hide_deprecated:
              description: Manage visibility of deprecated endpoints and models.
              type: boolean
              default: false
            allow_custom_server_urls:
              description: Let users define a custom server URL for endpoints. This will be used to generate code snippets and to test the API. The URL is client-side only and is not saved.
              type: boolean
              default: true
        robots:
          type: string
          nullable: true
      additionalProperties: false
      title: PortalCustomization
    PageId:
      description: The unique identifier of the page
      type: string
      format: uuid
      example: 582b9327-3eba-4bfe-9438-6066840dbbca
      title: PageId
    PageSlug:
      description: The slug of the page.
      type: string
      example: /my-page
      title: PageSlug
    PageTitle:
      description: The title of the page
      type: string
      example: My Page
      title: PageTitle
    PageContent:
      description: The renderable markdown content of the page
      type: string
      example: '# Welcome to the Developer Portal'
      title: PageContent
    Visibility:
      description: Whether the page or snippet is public or private. Private pages and snippets are only accessible to authenticated users.
      type: string
      example: public
      enum:
        - public
        - private
      title: Resource Public Visibility
    Description:
      type: string
      example: A custom page about developer portals
      title: ResourceDescription
    SnippetId:
      description: The unique identifier of the snippet
      type: string
      format: uuid
      example: 582b9327-3eba-4bfe-9438-6066840dbbcb
      title: SnippetId
    SnippetTitle:
      description: The title of the snippet
      type: string
      example: My Snippet
      title: SnippetTitle
    SnippetContent:
      description: The renderable markdown content of the snippet
      type: string
      example: '# Welcome to the Developer Portal'
      title: SnippetContent
    SnippetName:
      description: The name of the snippet (no leading slash)
      type: string
      example: my-snippet
      title: SnippetName
    ListPortalPages:
      description: A paginated list of pages for the portal
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/PortalPageInfo'
      additionalProperties: false
      title: ListPortalPages
    ListPortalSnippets:
      description: A paginated list of snippets for the portal
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/PortalSnippetInfo'
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
      additionalProperties: false
      title: ListPortalSnippets
    PortalPageInfo:
      description: A single page for the portal
      type: object
      properties:
        id:
          $ref: '#/components/schemas/PageId'
        slug:
          $ref: '#/components/schemas/PageSlug'
        title:
          $ref: '#/components/schemas/PageTitle'
        visibility:
          $ref: '#/components/schemas/Visibility'
        description:
          $ref: '#/components/schemas/Description'
        parent_page_id:
          $ref: '#/components/schemas/ParentPageId'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        children:
          description: children of the page
          type: array
          items:
            $ref: '#/components/schemas/PortalPageInfo'
          example:
            - id: d32d905a-ed33-46a3-a093-d8f536af9a8a
              slug: hello-world
              title: Hello world
              visibility: public
              parent_page_id: null
              children: []
      additionalProperties: false
      required:
        - id
        - slug
        - title
        - visibility
        - created_at
        - updated_at
        - children
        - parent_page_id
      title: PortalPageInfo
    PortalSnippetInfo:
      description: A single snippet for the portal
      type: object
      properties:
        id:
          $ref: '#/components/schemas/SnippetId'
        name:
          $ref: '#/components/schemas/SnippetName'
        title:
          $ref: '#/components/schemas/SnippetTitle'
        visibility:
          $ref: '#/components/schemas/Visibility'
        description:
          $ref: '#/components/schemas/Description'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - id
        - name
        - title
        - visibility
        - created_at
        - updated_at
      title: PortalSnippetInfo
    PortalPage:
      description: A single page for the portal
      type: object
      properties:
        id:
          $ref: '#/components/schemas/PageId'
        title:
          $ref: '#/components/schemas/PageTitle'
        slug:
          $ref: '#/components/schemas/PageSlug'
        content:
          $ref: '#/components/schemas/PageContent'
        visibility:
          $ref: '#/components/schemas/Visibility'
        description:
          $ref: '#/components/schemas/Description'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        parent_page_id:
          $ref: '#/components/schemas/ParentPageId'
      additionalProperties: false
      required:
        - id
        - title
        - slug
        - content
        - visibility
        - created_at
        - updated_at
        - parent_page_id
      title: PortalPage
    ParentPageId:
      description: |
        Pages may be rendered as a tree of files.
      type: string
      format: uuid
      nullable: true
    PortalSnippet:
      description: A single snippet for the portal
      type: object
      properties:
        id:
          $ref: '#/components/schemas/PageId'
        title:
          $ref: '#/components/schemas/SnippetTitle'
        name:
          $ref: '#/components/schemas/SnippetName'
        content:
          $ref: '#/components/schemas/SnippetContent'
        visibility:
          $ref: '#/components/schemas/Visibility'
        description:
          $ref: '#/components/schemas/Description'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
      required:
        - id
        - title
        - name
        - content
        - visibility
        - created_at
        - updated_at
      title: PortalSnippet
    PortalMenuItem:
      type: object
      properties:
        path:
          description: The absolute path of a page in a portal with a leading slash.
          type: string
          example: /about/company
          maxLength: 512
        title:
          description: The link display text
          type: string
          example: My Page
        visibility:
          description: Whether a menu item is public or private. Private menu items are only accessible to authenticated users.
          type: string
          example: public
          enum:
            - public
            - private
        external:
          description: 'When clicked, open the link in a new window'
          type: boolean
      additionalProperties: false
      required:
        - path
        - title
        - visibility
        - external
    PortalFooterMenuSection:
      type: object
      properties:
        title:
          description: The footer menu section title
          type: string
          maxLength: 512
        items:
          type: array
          items:
            $ref: '#/components/schemas/PortalMenuItem'
      additionalProperties: false
      required:
        - title
        - items
    CreateApiRegistrationPayload:
      description: The payload to create a registration.
      type: object
      properties:
        api_id:
          description: The API id required for registration.
          type: string
          format: uuid
      additionalProperties: false
      required:
        - api_id
      title: CreateRegistrationPayload
    ListApiRegistrationsResponse:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/PaginatedMeta'
        data:
          type: array
          items:
            $ref: '#/components/schemas/GetApiRegistrationResponse'
      additionalProperties: false
      required:
        - data
        - meta
    GetApiRegistrationResponse:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/UUID'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        status:
          description: The approval status of the registration.
          type: string
          enum:
            - approved
            - pending
            - rejected
            - revoked
        api_name:
          description: The name of the API. This is the name that is displayed in the developer portal.
          type: string
        api_id:
          description: Contains a unique identifier used by the Portal API for this resource.
          type: string
          format: uuid
        api_slug:
          description: |
            The API `slug` is used in generated URLs to provide human readable paths.

            Defaults to `slugify(name + version)`
          type: string
          example: my-api-v1
          nullable: false
        application_id:
          description: Contains a unique identifier used by the Portal API for this resource.
          type: string
          format: uuid
      additionalProperties: false
      required:
        - id
        - status
        - application_id
        - api_name
        - api_id
        - api_slug
        - created_at
        - updated_at
    PortalSearchResults:
      type: object
      properties:
        meta:
          $ref: '#/components/schemas/CursorMeta'
        data:
          description: The paginated results that matched the search query
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/PortalSearchResultOperation'
              - $ref: '#/components/schemas/PortalSearchResultDocument'
      additionalProperties: false
      required:
        - data
        - meta
      title: SearchResults
    PortalSearchResultOperation:
      type: object
      properties:
        id:
          description: Unique identifier for the record.
          type: string
        type:
          description: Portal entity type.
          type: string
        name:
          description: Name of the entity.
          type: string
        match:
          description: The matched text from the record.
          type: string
        description:
          description: Description of the entity.
          type: string
        attributes:
          description: Attributes for the entity.
          type: object
          additionalProperties: false
          properties:
            created_at:
              $ref: '#/components/schemas/CreatedAt'
            updated_at:
              $ref: '#/components/schemas/UpdatedAt'
            operation_id:
              description: The operation ID of the operation.
              type: string
            operation_key:
              description: The operation key of the operation.
              type: string
            path:
              description: The path of the operation.
              type: string
            method:
              description: The method of the operation.
              type: string
            scope:
              description: The scope of the operation.
              type: string
            summary:
              description: The summary of the operation.
              type: string
            api_description:
              description: The description of the API.
              type: string
            api_name:
              description: The name of the API.
              type: string
            api_slug:
              description: The URL slug of the API.
              type: string
            api_version:
              description: The version of the API.
              type: string
          required:
            - created_at
            - updated_at
            - operation_id
            - operation_key
            - path
            - method
            - scope
            - summary
            - api_description
            - api_name
            - api_slug
            - api_version
        relations:
          description: Relations for the entity.
          type: object
          additionalProperties: false
          properties:
            api_id:
              description: The ID of the API.
              type: string
            spec_id:
              description: The ID of the API specification.
              type: string
            portal_id:
              description: The ID of the portal.
              type: string
            org_id:
              description: The ID of the organization.
              type: string
            api_name:
              description: The name of the API.
              type: string
            api_slug:
              description: The slug of the API.
              type: string
            api_version:
              description: The version of the API.
              type: string
            api_description:
              description: The description of the API.
              type: string
          required:
            - api_id
            - spec_id
            - portal_id
            - org_id
            - api_name
            - api_slug
            - api_version
            - api_description
      additionalProperties: false
      required:
        - id
        - type
        - name
        - match
        - description
        - attributes
        - relations
      title: SearchResultOperation
    PortalSearchResultDocument:
      type: object
      properties:
        id:
          description: Unique identifier for the record.
          type: string
        type:
          description: Portal entity type.
          type: string
        name:
          description: Name of the entity.
          type: string
        match:
          description: The matched text from the record.
          type: string
        description:
          description: Description of the entity.
          type: string
        attributes:
          description: Attributes for the entity.
          type: object
          additionalProperties: false
          properties:
            created_at:
              $ref: '#/components/schemas/CreatedAt'
            updated_at:
              $ref: '#/components/schemas/UpdatedAt'
            path:
              description: The path of the operation.
              type: string
            scope:
              description: The scope of the operation.
              type: string
            api_slug:
              description: The URL slug of the API.
              type: string
            parent_document_id:
              description: The ID of the parent document if one exists.
              type: string
            slug:
              description: The URL slug of the document.
              type: string
          required:
            - created_at
            - updated_at
            - path
            - scope
            - api_slug
            - parent_document_id
            - slug
        relations:
          description: Relations for the entity.
          type: object
          additionalProperties: false
          properties:
            api_id:
              description: The ID of the API.
              type: string
            spec_id:
              description: The ID of the API specification.
              type: string
            portal_id:
              description: The ID of the portal.
              type: string
            org_id:
              description: The ID of the organization.
              type: string
            api_slug:
              description: The slug of the API.
              type: string
            api_version:
              description: The version of the API.
              type: string
            api_description:
              description: The description of the API.
              type: string
            parent_document_id:
              description: The ID of the parent document if one exists.
              type: string
            path:
              description: The path of the document.
              type: string
            slug:
              description: The URL slug of the document.
              type: string
          required:
            - api_id
            - spec_id
            - portal_id
            - org_id
            - api_slug
            - api_version
            - api_description
            - parent_document_id
            - path
            - slug
      additionalProperties: false
      required:
        - id
        - type
        - name
        - match
        - description
        - attributes
        - relations
      title: SearchResultDocument
    PortalSearchQueryParameters:
      type: string
      title: SearchQueryParameters
    CursorMetaPage:
      type: object
      properties:
        first:
          description: URI to the first page
          type: string
          format: path
        last:
          description: URI to the last page
          type: string
          format: path
        next:
          description: URI to the next page
          type: string
          format: path
          nullable: true
        previous:
          description: URI to the previous page
          type: string
          format: path
          nullable: true
        size:
          description: Requested page size
          type: number
          example: 10
      required:
        - size
        - next
        - previous
    CursorMeta:
      description: Pagination metadata.
      type: object
      properties:
        page:
          $ref: '#/components/schemas/CursorMetaPage'
      required:
        - page
  examples:
    ResponseExampleWithMetricAndDimension:
      value:
        meta:
          display:
            application:
              d5d51715-d4f2-4ca1-9920-26fd3977728a:
                name: Application 1
                deleted: false
              c8ae1321-7555-4280-b066-f5f181783d23:
                name: Application 2
                deleted: false
          metric_names:
            - response_latency_average
          metric_units:
            response_latency_average: ms
          start: '2023-08-03T15:00:00.000Z'
          end: '2023-08-04T15:00:00.000Z'
          granularity_ms: 86400000
          truncated: false
          limit: 50
          query_id: portal-api-3c0abb98-90bd-4e80-a495-ac268acc493e
        data:
          - event:
              application: 5d51715-d4f2-4ca1-9920-26fd3977728a
              response_latency_average: 250
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              application: c8ae1321-7555-4280-b066-f5f181783d23
              response_latency_average: 740
            timestamp: '2023-08-03T15:00:00.000Z'
    ResponseExampleWithMetric:
      value:
        meta:
          display: {}
          metric_names:
            - request_per_minute
          metric_units:
            request_per_minute: count/minute
          start: '2023-08-04T14:08:00.000Z'
          end: '2023-08-05T14:08:00.000Z'
          granularity_ms: 86400000
          truncated: false
          limit: 50
          query_id: portal-api-3c0abb98-90bd-4e80-a495-ac268acc493e
        data:
          - event:
              request_per_minute: 1340.8666666666666
            timestamp: '2023-08-04T14:08:00.000Z'
    ResponseExampleWithMetricAndMultipleDimensions:
      value:
        meta:
          start: '2023-08-03T15:00:00.000Z'
          end: '2023-08-03T16:00:00.000Z'
          granularity_ms: 3600000
          query_id: portal-api-4fad296e-da5e-41ed-af86-191440fe448e
          metric_names:
            - request_count
          metric_units:
            request_count: count
          display:
            application:
              d5d51715-d4f2-4ca1-9920-26fd3977728a:
                name: Application 1
                deleted: false
              c8ae1321-7555-4280-b066-f5f181783d23:
                name: Application 2
                deleted: false
            status_code_grouped:
              2XX:
                name: 2XX
                deleted: false
              5XX:
                name: 5XX
                deleted: false
          truncated: false
          limit: 50
        data:
          - event:
              application: d5d51715-d4f2-4ca1-9920-26fd3977728a
              status_code_grouped: 2XX
              request_count: 81447
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              application: d5d51715-d4f2-4ca1-9920-26fd3977728a
              status_code_grouped: 5XX
              request_count: 28468
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              application: c8ae1321-7555-4280-b066-f5f181783d23
              status_code_grouped: 2XX
              request_count: 45819
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              application: c8ae1321-7555-4280-b066-f5f181783d23
              status_code_grouped: 5XX
              request_count: 25041
            timestamp: '2023-08-03T15:00:00.000Z'
    ResponseExampleWithTimeDimension:
      value:
        meta:
          start: '2023-08-03T15:00:00.000Z'
          end: '2023-08-03T16:00:00.000Z'
          granularity_ms: 3600000
          query_id: portal-api-3c0abb98-90bd-4e80-a495-ac268acc493e
          metric_names:
            - response_size_average
          metric_units:
            response_size_average: bytes
          display:
            status_code_grouped:
              2XX:
                name: 2XX
                deleted: false
              3XX:
                name: 3XX
                deleted: false
              4XX:
                name: 4XX
                deleted: false
              5XX:
                name: 5XX
                deleted: false
          truncated: false
          limit: 50
        data:
          - event:
              status_code_grouped: 2XX
              response_size_average: 590
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              status_code_grouped: 3XX
              response_size_average: 584
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              status_code_grouped: 4XX
              response_size_average: 629
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              status_code_grouped: 5XX
              response_size_average: 603
            timestamp: '2023-08-03T15:00:00.000Z'
          - event:
              status_code_grouped: 2XX
              response_size_average: 590
            timestamp: '2023-08-03T16:00:00.000Z'
          - event:
              status_code_grouped: 3XX
              response_size_average: 584
            timestamp: '2023-08-03T16:00:00.000Z'
          - event:
              status_code_grouped: 4XX
              response_size_average: 628
            timestamp: '2023-08-03T16:00:00.000Z'
          - event:
              status_code_grouped: 5XX
              response_size_average: 603
            timestamp: '2023-08-03T16:00:00.000Z'
    QueryExampleWithMetric:
      value:
        time_range:
          type: relative
          time_range: 24h
          tz: EST
        metrics:
          - request_per_minute
        filters:
          - field: api
            operator: in
            value:
              - 417e47e8-ae7b-48a1-9b34-3f6835161de1
    QueryExampleWithMetricAndDimension:
      value:
        time_range:
          type: relative
          time_range: 24h
          tz: EST
        metrics:
          - response_size_average
        dimensions:
          - application
    QueryExampleWithMetricAndMultipleDimensions:
      value:
        time_range:
          type: relative
          time_range: 24h
          tz: EST
        metrics:
          - request_count
        dimensions:
          - application
          - status_code_grouped
        filters:
          - field: status_code_grouped
            operator: in
            value:
              - 2XX
              - 5XX
    QueryExampleWithTimeDimension:
      value:
        time_range:
          type: absolute
          start: '2023-08-04T14:08:00.00Z'
          end: '2023-08-05T14:08:00.000Z'
          tz: America/New_York
        granularity: hourly
        metrics:
          - response_size_average
        dimensions:
          - time
          - status_code_grouped
    BadRequestExample:
      value:
        status: 400
        title: Bad Request
        instance: 'kong:trace:9039922446017540182'
        detail: 'Malformed Query: field api_product is not allowed'
        invalid_parameters: []
    UnauthorizedExample:
      value:
        status: 401
        title: Unauthorized
        instance: 'kong:trace:8347343766220159418'
        detail: Unauthorized
        invalid_parameters: []
    GetConfigNoAnalytics200response:
      value:
        analytics: null
    GetConfigAnalytics200response:
      value:
        analytics:
          percentiles: true
          retention_ms: 31536000000
    ForbiddenExample:
      value:
        status: 403
        title: Forbidden
        instance: 'kong:trace:2723154947768991354'
        detail: You do not have permission to perform this action
    ApiActionsExample:
      value:
        actions:
          register: false
          view: true
          view_documentation: true
    ListApiAttributesPageExample:
      value:
        data:
          - key: env
            values:
              - value: production
                api_count: 5
              - value: staging
                api_count: 5
          - key: domain
            values:
              - value: identity
                api_count: 2
              - value: booking
                api_count: 2
              - value: planning
                api_count: 4
              - value: add-ons
                api_count: 2
        meta:
          page:
            number: 1
            size: 2
            total: 2
    ListApiAttributesWithSelectedExample:
      summary: Example with selected filters applied
      description: |
        Example response when selected[domain]=identity,booking is provided as a query parameter.
        The selected_api_count shows the count when only APIs with domain 'identity' or 'booking' are considered.
      value:
        data:
          - key: env
            values:
              - value: production
                api_count: 5
                selected_api_count: 2
              - value: staging
                api_count: 5
                selected_api_count: 2
          - key: domain
            values:
              - value: identity
                api_count: 2
                selected_api_count: 2
              - value: booking
                api_count: 2
                selected_api_count: 2
              - value: planning
                api_count: 4
                selected_api_count: 0
              - value: add-ons
                api_count: 2
                selected_api_count: 0
        meta:
          page:
            number: 1
            size: 2
            total: 2
    NotFoundExample:
      value:
        status: 404
        title: Not Found
        instance: 'kong:trace:6816496025408232265'
        detail: Not Found
    PostCredentials403Example:
      value:
        status: 403
        title: Forbidden
        detail: 'Maximum number of Credentials exceeded. Max Allowed: 20'
        instance: 'kong:trace:2724154947768991355'
    GetGrantedScopesAPI200Response:
      value:
        scopes:
          - openid
    GetGrantedScopesAPI422Example:
      value:
        status: 422
        title: Unsupported IDP
        type: 'https://kongapi.info/konnect/portal/granted-scopes-unavailable'
        detail: This feature is not supported by the application.
        instance: 'kong:trace:2724154947768991354'
    Authenticate-Request:
      value:
        username: developer@example.com
        password: <!N0taP@$$w0rd!>
    Reset-Password-Request:
      value:
        password: <!D3finitelyN0taP@$$w0rd!>
        token: c8efd006-d8e1-4743-b91b-f163b9eae06a
    Verify-Email-Request:
      value:
        token: c8efd006-d8e1-4743-b91b-f163b9eae06a
    Verify-Email-Response:
      value:
        email: developer@example.com
        token: c8efd006-d8e1-4743-b91b-f163b9eae06a
    400-Invalid-Token:
      value:
        status: 400
        title: Bad Request
        instance: 'konnect:trace:8988732526256293040'
        detail: The provided token is invalid
        invalid_parameters:
          - field: token
            reason: invalid ID format
    400-Login-Failed:
      value:
        status: 400
        title: Bad Request
        instance: 'konnect:trace:8988732526256293040'
        detail: Required fields are missing
        invalid_parameters:
          - field: password
            reason: is required
    401-Unauthorized:
      value:
        status: 401
        title: Invalid Credentials
        instance: 'konnect:trace:7283332526256293094'
        detail: You have entered an invalid email or password.
    401-Account-Not-Approved:
      value:
        status: 401
        title: Approval Required
        instance: 'konnect:trace:7283332526256293094'
        detail: Your account is pending approval for access.
    404-Token-Not-Found:
      value:
        status: 400
        title: Not Found
        instance: 'konnect:trace:8988732526256293040'
        detail: The provided token was not found
    410-Expired-Token:
      value:
        status: 410
        title: Gone
        instance: 'konnect:trace:8988732526256293040'
        detail: The token has expired
    RegisterDeveloperRequestExample1:
      value:
        email: dev@company.com
        full_name: Dev Smith
    PortalSearchResponseOperationExample:
      value:
        data:
          - id: 9f5061ce-78f6-4452-9108-ad7c02821fd5
            type: api_specs_operation
            name: Get Users
            description: Returns a list of users.
            match: a string
            attributes:
              created_at: '2023-01-19T17:41:55.896Z'
              updated_at: '2023-01-19T17:41:55.896Z'
              operation_id: listUsersV1
              operation_key: GET /users
              path: /users
              method: GET
              summary: Returns a list of users.
              scope: private
              api_name: Users API
              api_slug: users-api-v1
              api_version: 1.0.0
              api_description: API used to manage users.
            relations:
              api_id: 7f9fd312-a987-4628-b4c5-bb4f4fddd5f7
              spec_id: 7710d5c4-d902-410b-992f-18b814155b53
              portal_id: de5c9818-be5c-42e6-b514-e3d4bc30ddeb
              org_id: ebbac5b0-ac89-45c3-9d2e-c4542c657e79
              api_name: Users API
              api_slug: users-api-v1
              api_version: 1.0.0
              api_description: API used to manage users.
        meta:
          page:
            previous: null
            next: '/api/v3/search?page[after]=ewogICJpZCI6ICJoZWxsbyB3b3JsZCIKfQ'
            size: 1
    PortalSearchResponseDocumentExample:
      value:
        data:
          - id: 9f5061ce-78f6-4452-9108-ad7c02821fd5
            type: api_document
            name: my-document
            description: my document
            match: a string
            attributes:
              created_at: '2023-01-19T17:41:55.896Z'
              updated_at: '2023-01-19T17:41:55.896Z'
              path: /my-document
              scope: private
              api_slug: my-api
              parent_document_id: 49fd316e-c457-481c-9fc7-8079153e4f3c
              slug: my-document
            relations:
              api_id: 7f9fd312-a987-4628-b4c5-bb4f4fddd5f7
              spec_id: 7710d5c4-d902-410b-992f-18b814155b53
              portal_id: de5c9818-be5c-42e6-b514-e3d4bc30ddeb
              org_id: ebbac5b0-ac89-45c3-9d2e-c4542c657e79
              api_slug: my-api
              api_version: 3.0.1
              api_description: My API.
              parent_document_id: 49fd316e-c457-481c-9fc7-8079153e4f3c
              path: /my-document
              slug: my-document
        meta:
          page:
            previous: null
            next: '/api/v3/search?page[after]=ewogICJpZCI6ICJoZWxsbyB3b3JsZCIKfQ'
            size: 1
  requestBodies:
    CreateApplication:
      description: Create an application
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateApplicationPayload'
    UpdateApplication:
      description: Update an application
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateApplicationPayload'
    CreateCredential:
      description: Create a credential
      required: false
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateCredentialRequest'
    UpdateCredential:
      description: Update a credential
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateCredentialRequest'
    AuthenticateRequest:
      description: The request schema for the authenticate endpoint.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AuthenticateRequest'
          examples:
            Authenticate-Request:
              $ref: '#/components/examples/Authenticate-Request'
    ResetPasswordRequest:
      description: The request schema for the reset password endpoint.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResetPasswordRequest'
          examples:
            ResetPasswordRequest:
              $ref: '#/components/examples/Reset-Password-Request'
    VerifyEmailRequest:
      description: The request schema for the verify email endpoint.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/VerifyEmailRequest'
          examples:
            VerifyEmailRequest:
              $ref: '#/components/examples/Verify-Email-Request'
    CreateAPIRegistration:
      description: Create an application registration.
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateApiRegistrationPayload'
  responses:
    QueryResponse:
      description: A response from an Application Analytics query.
      content:
        application/json:
          schema:
            type: object
            properties:
              meta:
                $ref: '#/components/schemas/QueryResponseMeta'
              data:
                $ref: '#/components/schemas/QueryResponseData'
            additionalProperties: false
          examples:
            Response with a single metric:
              $ref: '#/components/examples/ResponseExampleWithMetric'
            Response with metric and dimension:
              $ref: '#/components/examples/ResponseExampleWithMetricAndDimension'
            Response with metric and two dimensions:
              $ref: '#/components/examples/ResponseExampleWithMetricAndMultipleDimensions'
            Response with time dimension:
              $ref: '#/components/examples/ResponseExampleWithTimeDimension'
    GetConfig:
      description: Get config
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/GetConfigResponse'
          examples:
            GetConfigNoAnalytics200response:
              $ref: '#/components/examples/GetConfigNoAnalytics200response'
            GetConfigAnalytics200response:
              $ref: '#/components/examples/GetConfigAnalytics200response'
    Forbidden:
      description: Forbidden
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/ForbiddenError'
          examples:
            UnauthorizedExample:
              $ref: '#/components/examples/ForbiddenExample'
    Unauthorized:
      description: Unauthorized
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/UnauthorizedError'
          examples:
            UnauthorizedExample:
              $ref: '#/components/examples/UnauthorizedExample'
            401-Unauthorized:
              $ref: '#/components/examples/401-Unauthorized'
            401-Account-Not-Approved:
              $ref: '#/components/examples/401-Account-Not-Approved'
    ApiActions:
      description: API actions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiActionsResponse'
          examples:
            Retrieve API Actions Response:
              $ref: '#/components/examples/ApiActionsExample'
    ApiGet:
      description: Response for a single api's details.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Api'
    ApiList:
      description: Response for a list of apis.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiListPage'
    ApiListApplications:
      description: Paginated list of applications either registered or not registered for an API
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiListApplicationsPage'
    ApiSpecList:
      description: List of API specification documents.
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiSpecDocumentSummary'
              meta:
                $ref: '#/components/schemas/PaginatedMeta'
            additionalProperties: false
            required:
              - data
              - meta
    ApiVersionList:
      description: List of API version specification documents.
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiVersionSummary'
              meta:
                $ref: '#/components/schemas/PaginatedMeta'
            additionalProperties: false
            required:
              - data
              - meta
    ApiSpecGet:
      description: API specification document.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiSpecDocument'
    ApiSpecGetRaw:
      description: API specification content.
      content:
        application/json:
          schema:
            type: string
    ApiVersionGet:
      description: API version specification document.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiVersion'
    ApiVersionGetRaw:
      description: API version specification content.
      content:
        application/json:
          schema:
            description: JSON content of the API specification.
            type: object
    ApiDocumentList:
      description: Lists documents for an API.
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: '#/components/schemas/ApiDocumentTree'
            required:
              - data
    ApiDocumentGet:
      description: Details for a single document for an API.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiDocument'
    ListApiAttributes:
      description: Paginated list of attributes across all APIs published in this portal.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ListApiAttributesPage'
          examples:
            ListApiAttributesPageExample:
              $ref: '#/components/examples/ListApiAttributesPageExample'
            ListApiAttributesWithSelectedExample:
              $ref: '#/components/examples/ListApiAttributesWithSelectedExample'
    BadRequest:
      description: Bad Request
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/BadRequestError'
          examples:
            400-Invalid-Token:
              $ref: '#/components/examples/400-Invalid-Token'
            400-Login-Failed:
              $ref: '#/components/examples/400-Login-Failed'
    NotFound:
      description: Not Found
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/NotFoundError'
          examples:
            NotFoundExample:
              $ref: '#/components/examples/NotFoundExample'
            404-Token-Not-Found:
              $ref: '#/components/examples/404-Token-Not-Found'
    NotAvailable:
      description: Service not available
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/BaseError'
    ListApplications:
      description: Get applications response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ListApplicationsResponse'
    GetApplication:
      description: Get application response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/GetApplicationResponse'
    ApplicationCreation:
      description: Application Creation success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApplicationCreationResponse'
    ApplicationUpdate:
      description: Application Update success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApplicationUpdateResponse'
    RegenerateSecret:
      description: Regenerate secret response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/RegenerateSecretResponse'
    Conflict:
      description: Conflict
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/ConflictError'
    TooManyRequests:
      description: Too Many Requests
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/TooManyRequestsError'
    ListCredentials:
      description: List credentials response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ListCredentialsResponse'
    CredentialCreation:
      description: Credential Creation success
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CredentialCreationResponse'
    PostCredentials403Response:
      description: Error returned when the number of credentials exceed the quota.
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/ForbiddenError'
          examples:
            PostCredentials403Example:
              $ref: '#/components/examples/PostCredentials403Example'
    GetGrantedScopesAPI:
      description: Get granted scopes response.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/GetGrantedScopesAPIResponse'
          examples:
            GetGrantedScopesAPI200Response:
              $ref: '#/components/examples/GetGrantedScopesAPI200Response'
    GetGrantedScopesAPI422Response:
      description: Get granted with application using unsupported IDP.
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/UnprocessableContentError'
          examples:
            GetGrantedScopesAPI422Example:
              $ref: '#/components/examples/GetGrantedScopesAPI422Example'
    ListAuthStrategies:
      description: List auth strategies response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ListAuthStrategiesResponse'
    Gone:
      description: Gone
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/GoneError'
          examples:
            410-Expired-Token:
              $ref: '#/components/examples/410-Expired-Token'
    VerifyEmailResponse:
      description: The response schema for the verify email endpoint.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/VerifyEmailResponse'
          examples:
            VerifyEmailResponse:
              $ref: '#/components/examples/Verify-Email-Response'
    responses-Unauthorized:
      description: Unauthorized
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/UnauthorizedError'
          examples:
            UnauthorizedExample:
              $ref: '#/components/examples/UnauthorizedExample'
    MeResponse:
      description: Response from me endpoint
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Developer'
    ListPortalPagesResponse:
      description: Paginated list of portal pages
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ListPortalPages'
          examples:
            ListPortalPageResponseExample1:
              value:
                data:
                  - id: 582b9327-3eba-4bfe-9438-6066840dbbca
                    title: Home
                    slug: /
                    visibility: public
                    description: Welcome page
                    parent_page_id: null
                    children: []
                    created_at: '2022-11-04T20:10:06.927Z'
                    updated_at: '2022-11-04T20:10:06.927Z'
    ListPortalSnippetsResponse:
      description: Paginated list of portal snippets
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ListPortalSnippets'
          examples:
            ListPortalSnippetResponseExample1:
              value:
                data:
                  - id: 582b9327-3eba-4bfe-9438-6066840dbbca
                    title: Home
                    name: snip1
                    visibility: public
                    description: Welcome snippet
                    created_at: '2021-09-01T00:00:00Z'
                    updated_at: '2021-09-01T00:00:00Z'
                meta:
                  page:
                    size: 10
                    total: 1
                    number: 1
    GetPortalPageResponse:
      description: A single portal page
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PortalPage'
          examples:
            PortalPageResponseExample1:
              value:
                id: 582b9327-3eba-4bfe-9438-6066840dbbca
                title: Home
                slug: /
                content: '# Welcome to the Developer Portal'
                visibility: public
                parent_page_id: null
                created_at: '2021-09-01T00:00:00Z'
                updated_at: '2021-09-01T00:00:00Z'
    GetPortalSnippetResponse:
      description: A single portal snippet
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PortalSnippet'
          examples:
            PortalPageResponseExample1:
              value:
                id: 582b9327-3eba-4bfe-9438-6066840dbbca
                title: Home
                name: snip1
                content: '# Welcome to the Developer Portal'
                visibility: public
                created_at: '2021-09-01T00:00:00Z'
                updated_at: '2021-09-01T00:00:00Z'
    GetPortalContextResponse:
      description: The portal context object
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PortalContext'
          examples:
            GetPortalContextResponseExample1:
              value:
                portal_id: 18a9b697-7e68-411b-8e1d-102b261ab18e
                org_id: a40f5d1f-d889-42e9-94ea-b9b33585fc6b
                basic_auth_enabled: true
                oidc_auth_enabled: true
                saml_auth_enabled: true
                authentication_enabled: true
                rbac_enabled: true
                name: my portal
                canonical_domain: portal.example.com
    PortalImageAssetResponse:
      description: An image asset
      content:
        image/jpg:
          schema:
            type: string
            format: binary
        image/png:
          schema:
            type: string
            format: binary
    PortalCustomizationResponse:
      description: Response for custom portal settings
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PortalCustomization'
    CreateAPIRegistration:
      description: Registration creation response.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/GetApiRegistrationResponse'
    GetAPIRegistration:
      description: Get registration response.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/GetApiRegistrationResponse'
    ListApiRegistrations:
      description: Get registrations response.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ListApiRegistrationsResponse'
    PortalSearchResponse:
      description: Search Results
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PortalSearchResults'
          examples:
            Search Response Operation Example:
              $ref: '#/components/examples/PortalSearchResponseOperationExample'
            Search Response Document Example:
              $ref: '#/components/examples/PortalSearchResponseDocumentExample'
  securitySchemes:
    portalAccessToken:
      type: apiKey
      in: cookie
      name: portalaccesstoken
      description: |
        The Developer portal cookie is meant to be used by the Developer API to authenticate with.
tags:
  - name: Application Analytics
    description: |
      The API for querying Application Analytics.

      Important Considerations:
      - Application Analytics is only available for when the user is authenticated.
      - This endpoint is rate limited to 100 requests per minute per developer.
      - The time range for the query must be within the last 90 days, otherwise a 400 error will be returned.
  - name: APIs
    description: Endpoints for viewing APIs published to the portal.
  - name: API Docs
    description: Endpoints for viewing API documentation published to the portal.
  - name: API Attributes
    description: Endpoints for viewing attributes across APIs published to the portal.
  - name: Applications
    description: 'The API for Konnect Portal developer applications within a private portal (i.e. requires registration/authentication). When a portal is in `public` mode, all of the described endpoints will return a 404 error. A public portal means that applications and registrations are not available/needed. In this API''s context, "you" and "your" refers to the developer consuming the API.'
  - name: Credentials
    description: The API for Konnect Portal developer credentials within a private portal (i.e. requires registration/authentication).
  - name: Developer
    description: API for managing a Konnect Portal Developer.
  - name: Portal
    description: The API for retrieving details about a single Konnect Portal.
  - name: Content
    description: The API for retrieving content for a Konnect Portal.
  - name: Registrations
    description: |
      The API for Konnect Portal application registrations. If the portal is public
      all of the described endpoints will return a 404 error
  - name: Search
    description: The API for Konnect Portal Search.
x-errors:
  granted-scopes-unavailable:
    description: |
      The IDP used does not support granted scopes.
    resolution: |
      Switch to an IDP that allows you to grant specific scopes.
