{{site.base_gateway}} keys each cache element based on:
* The request method
* The full client request (for example, the request path and query parameters)
* The UUID of either the API or Consumer associated with the request

Caches are distinct between APIs and Consumers. 

{% if include.slug == "proxy-cache-advanced" %}
Internally, cache keys are generated by computing the MD5 hash of the combined parts, then encoding the result in hexadecimal:

```
key = md5(UUID | method | request | query_params | headers | consumer_groups)
```

{% elsif include.slug == "proxy-cache" %}

Internally, cache keys are generated by computing the SHA256 hash of the combined parts, then encoding the result in hexadecimal:

```
key = sha256(UUID | method | request | query_params | headers | consumer_groups)
```

{% endif %}

Where:
* `method` is defined in the OpenResty `ngx.req.get_method()` call
* `request` is defined via the Nginx `$request` variable
* `query_params` are defined via the plugin's [`config.vary_query_params`](./reference/#schema--config-vary-query-params) parameter
* `headers` are defined in the plugin's [`config.vary_headers`](./reference/#schema--config-vary-headers) parameter
* `consumer_groups` are defined based on the [Consumer Groups](/gateway/entities/consumer-group/) this plugin is applied to

{{site.base_gateway}} will return the cache key associated with a given request as the `X-Cache-Key` response header. 

{:.info}
> **Note:** The cache key format is hardcoded and can't be modified. 