description: |
  Redirect incoming requests to a target location, using the request path and query string from the incoming request in the redirect URL.

extended_description: | 
  Redirect incoming requests to a target location, using the request path and query string from the incoming request in the redirect URL.

  {% table %}
  columns:
    - title: Incoming request
      key: request
    - title: "`config.location`"
      key: location
    - title: "`config.keep_incoming_path`"
      key: path
    - title: New URL
      key; url
  rows:
    - request: https://example.com/demo?foo=bar 
      location: https://new.example.com
      path: "`true`"
      url: https://new.example.com/demo?foo=bar 
    - request: https://example.com/demo?foo=bar 
      location: https://new.example.com/some-path
      path: "`true`"
      url: https://new.example.com/demo?foo=bar 
  {% endtable %}

title: "Keep the incoming request path"

weight: 900

variables:
  location:
    value: $YOUR_REDIRECT_URL

config:
  location: ${location}
  keep_incoming_path: true

tools:
  - deck
  - admin-api
  - konnect-api
  - kic
  - terraform
