description: |
  Authenticate to a third-party service using Vault secrets.

extended_description: |
  Authenticate to a third-party service using Vault secrets. Refer to the [Vault documentation](https://developer.konghq.com/gateway/entities/vault) for more information on how to set up and use Vault secrets.

  This example contains the following nodes:

title: Authenticate to a third-party service using Vault secrets.
weight: 900

config:
  resources:
    vault:
      token: {vault://my-vault/my-token}
  nodes:
  - name: AUTH_HEADERS
    type: jq
    inputs:
      token: vault.token
    jq: |
      {
        "Authorization": "Bearer " + .apikey
        "Content-Type": "application/json"
      }

  - name: AUTH_REQUEST
    type: call
    inputs:
      heaqders: AUTH_HEADERS
    url: "https://my-token-service/auth-token"
    method: GET

tools:
  - deck
  - admin-api
  - konnect-api
  - kic
  - terraform

min_version:
  gateway: '3.12'
