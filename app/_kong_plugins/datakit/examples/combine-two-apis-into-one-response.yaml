description: |
  Make requests to multiple APIs and combine their responses into one response.

extended_description: |
  Make requests to multiple APIs and combine their responses into one response.

  This example contains the following nodes:
  1. The node `AUTHOR` makes a `GET` request to the API at `https://httpbin.konghq.com/json`.
  2. The node `UUID` makes a `GET` request to the API at `https://httpbin.konghq.com/uuid`.
  3. The node `JOIN` combines the JSON response bodies of `AUTHOR` and `UUID` into a single JSON object.
  4. The node `EXIT` sends a response to the client with the combined API response data. 
  This terminates the request instead of proxying it upstream.

title: Combine multiple API responses
weight: 900

config:
  nodes:
  - name: AUTHOR
    type: call
    url: https://httpbin.konghq.com/json
  - name: UUID
    type: call
    url: https://httpbin.konghq.com/uuid
  - name: JOIN
    type: jq
    inputs:
      input1: AUTHOR.body
      input2: UUID.body
    jq: |
      {
        author: .input1.slideshow.author,
        uuid: .input2.uuid,
      }
  - name: EXIT
    type: exit
    inputs:
      body: JOIN
    status: 200
tools:
  - deck
  - admin-api
  - konnect-api
  - kic
  - terraform

min_version:
  gateway: '3.11'
