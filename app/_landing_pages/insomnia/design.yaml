metadata:
  title: Design APIs
rows:
  - header:
      type: h1
      text: "Design APIs with Insomnia"
    columns:
      - blocks:
          - type: structured_text
            config:
              header:
                text: "Design and preview new APIs with OpenAPI"
              blocks:
                - type: text
                  text: | 
                    Using Insomnia, you can create or upload an API spec to a document. 
                      
                      As you write or edit your spec:  
                - type: text
                  text: |
                    - View a generated preview of your spec in the right pane.
                    - Automatically linted. Errors display at the bottom of the center pane and include error type, line number, and error message
                    - View information about your spec in the left sidebar, such as servers, request body, and schemas.
                    - Collaboratively create APIs with an unlimited number of contributers (free accounts allow unlimited contributors on one project) and git version control.
      - blocks:
          - type: image
            config:
              url: /assets/images/insomnia/document-spec.png
              alt_text: Image of the generating collections and tests        

  - header:
      type: h2
      text: "Get started"
    columns:
      - blocks:
        - type: card
          config:
            title: Design APIs with documents
            description: Use Insomnia to create APIs with a spec-first approach. Leverage OpenAPI, live API previews, and more.
            icon: /assets/icons/insomnia/design.svg
            cta:
              text: Learn more
              url: https://docs.insomnia.rest/insomnia/design-documents
              align: end
      - blocks:
        - type: card
          config:
            title: Validate your API specs
            description: Automatically validate OpenAPI specs with the Inso CLI and custom linting rules.
            icon: /assets/icons/insomnia/stars.svg
            cta:
              text: Learn more
              url: https://docs.insomnia.rest/insomnia/linting
              align: end
      - blocks:
        - type: card
          config:
            title: Collaborate on APIs
            description: Collaborate with others and use git version control on your APIs.
            icon: /assets/icons/insomnia/local-git-cloud-storage.svg
            cta:
              text: Learn more
              url: https://docs.insomnia.rest/insomnia/git-sync
              align: end 
      - blocks:
        - type: card
          config:
            title: Deploy an API with Konnect
            description: Deploy your APIs with API Products in Konnect.
            icon: https://raw.githubusercontent.com/Kong/docs.konghq.com/4fe28d484696339fa19ced4230e72ecd1ff97bda/app/assets/images/icons/kong-gradient.svg
            cta:
              text: Learn more
              url: https://docs.konghq.com/konnect/api-products/
              align: end  
  - header:
      type: h2
      text: API spec information
    columns:
      - blocks:
        - type: structured_text
          config:
            blocks:
              - type: text
                text: |
                  In the left-side panel of your spec, a menu populates with information about your API spec. See the following table for the information it displays:
        - type: x_with_y
          config:
            border: true
            items:
              - text: INFO
                action:
                  type: text
                  config:
                    text: |
                      Overview data about the API, including title, description, version, and license. This section is always visible.
              - text: SERVERS
                action:
                  type: text
                  config:
                    text: |
                      Servers that access requests for the API.
              - text: PATHS
                action:
                  type: text
                  config:
                    text: All paths available for the API, with request types listed.
              - text: REQUESTS
                action:
                  type: text
                  config:
                    text: |
                      API objects with content types. For example, in the Pet Store API, an object is `Pet` and content types for that object are `application/json` and `application/xml`.
              - text: RESPONSES
                action:
                  type: text
                  config:
                    text: Lists structured, expected responses for each request.
              - text: PARAMETERS
                action:
                  type: text
                  config:
                    text: Lists parameters that the API recognizes.
              - text: HEADERS
                action:
                  type: text
                  config:
                    text: Header types accepted by the API.
              - text: SCHEMAS
                action:
                  type: text
                  config:
                    text: Schemas detailing the input/output of the API.
              - text: SECURITY
                action:
                  type: text
                  config:
                    text: Authentication information and options. 
  
  - header:
      text: "Frequently Asked Questions"
      type: h2
    columns:
      - blocks:
        - type: faqs
          config:
            - q: How do I create a new API spec in Insomnia?
              a: |
                Create a new API spec in Insomnia by clicking **Create > Design document** and then adding your spec in the center pane editor. 
                Specs must be in the OpenAPI 2.0.x or later format. 
                You can create specs for a REST API or GraphQL API.
            - q: Why is a preview not displaying for my spec?
              a:
            - q: Why can't I generate a collection from the API spec in my design document?
              a: Check the linting errors, if there's any warning level errors, you won't be able to generate a collection from your spec.
            - q: How do I import an existing spec in Insomnia?
              a:
            - q: How do I migrate my specs from another API client, like Postman, to Insomnia?
              a:
            - q: How does Insomnia pull information from my spec?
              a: 
            - q: How do I generate requests from my spec?
              a: 
            - q: Can I create a GraphQL API spec in Insomnia?
              a: Yes. For Insomnia to autodetect that your spec is in GraphQL format, the path must be `/graphql`, the method must be `POST`, the request body must be application/json and must contain a property query with the type string, and the response body must be application/json.
            - q: Can I create a spec in a collection?
              a: No, you can import an existing spec into a collection, but you can only create a new API spec in a document.

  - header:
      type: h2
      text: Learn
    columns:
      - blocks:
          - type: concept_list
            config:
              - topic: design-apis
                product: insomnia 
            quantity: 5
            allow_empty: true
          - type: cta
            config:
              text: "Learn more &raquo;"
              url: "https://docs.devsite.com/search/{concept.topic}+{other stuff}" ## Takes you to search with terms that match this.
              align: end

  - header:
      type: h2
      text: How-to Guides
    columns:
      - blocks:
          - type: how_to_list
            config:
              products:
                  - insomnia
              quantity: 5
              allow_empty: true
              view_more: "https://docs.devsite.com/search/{topic}+{other stuff}" ## Takes you to search with terms that match this.
  
  - header:
      type: h2
      text: References & Tools
    columns:
      - blocks:
          - type: reference_list
            config:
              products:
                  - insomnia 
            quantity: 5
            allow_empty: true
          - type: cta
            config:
              text: "View more references &raquo;"
              url: "https://docs.devsite.com/search/{reference.topic}+{other stuff}" ## Takes you to search with terms that match this.
              align: end
      