metadata:
  title: "Rate Limiting"
  tags:
    - rate-limiting
content:
  - row:
      - column:
          - type: header
            config:
              type: h1
              text: "Rate Limiting"
              align: center

  - row:
      - column:
          - type: structured_text
            config:
              header:
                text: "What is Rate Limiting?"
              blocks:
                - type: text
                  text: Rate limiting controls the number of API requests a client can make within a specified time frame. 
                    It's a critical function that helps maintain
                    the performance and availability of web
                    services and APIs by controlling the request traffic.
      - column:
          - type: mermaid
            config:
              alt_text: "A diagram that shows how Kong Gateway uses the Rate Limiting plugin to rate limit a service"
              diagram: |
                sequenceDiagram
                participant Client as Client
                participant Kong as Kong Gateway
                participant RateLimitPlugin as Rate Limiting plugin
                participant Service as Service

                Client->>Kong: Send API request
                Kong->>RateLimitPlugin: Check rate limits
                RateLimitPlugin-->>Kong: Rate limit status
                alt Within limits
                    RateLimitPlugin->>Service: Forward request
                    Service-->>Kong: Service response
                    Kong-->>Client: Forward service response
                else Exceeds limits
                    RateLimitPlugin-->>Kong: Rate limit exceeded response
                    Kong-->>Client: Return 429 status code
                end

  - row:
      - column:
          - type: structured_text
            config:
              header:
                text: "Why is Rate Limiting important?"
              blocks:
                - type: text
                  text: Rate Limiting is necessary when using an API Gateway for the following reasons
                - type: unordered_list
                  items:
                    - "**Resource Protection:** Ensures that no single user or client could monopolize resources and degrade the performance or impact the experience of other users."
                    - "**Security:** Helps protect against certain types of security attacks, like DDoS (Distributed Denial of Service) attacks, by limiting the rate at which requests can be made."
                    - "**Cost Management:** Prevents an explosion of usage (therefore cost) from either a bug or deliberately heavy usage by a consumer."
                    - "**Quality of Service:** Certain user tiers may be given different rate limits to ensure a level of service. For example, premium users may have a higher rate limit than free users."
                    - "**Enforcing API Tiers/Plans:** Different pricing plans may have different usage limits."
                - type: text
                  text: Rate limits are typically defined on per-second, per-minute, or hourly intervals and are often configurable so they can be finely tuned based on the specific requirements of the system and its users.
  - row:
      - column:
          - type: header
            config:
              type: h2
              text: "Learn more about rate limiting with Kong"
              align: left
  - row:
      - column:
          - type: header
            config:
              type: h2
              text: "Get started with rate limiting"
              align: left
  - row:
      - column:
          - type: structured_text
            config:
              header:
                text: "Kong Gateway"
              blocks:
                - type: text
                  text: Kong Gateway provides several Plugins to add Rate Limiting to the Kong Gateway API.
                - type: text
                  text: <a href="https://docs.konghq.com/hub/kong-inc/rate-limiting-advanced/how-to/">Add Rate Limiting per Service Using the Rate Limiting Plugin</a>
      - column:
          - type: structured_text
            config:
              header:
                text: "KIC"
              blocks:
                - type: text
                  text: KIC relies on Kong Gateway's Plugins, but configuring them with Kong Ingress Controller is different. Rather than attaching a configuration directly to a Service or Route, you create a KongPlugin definition and then annotate your Kubernetes resource with the konghq.com/plugins annotation..
                - type: text
                  text: <a href="https://docs.konghq.com/hub/kIC/">Add Rate Limiting per Service using KIC</a>
      - column:
          - type: structured_text
            config:
              header:
                text: "Kong Mesh"
              blocks:
                - type: text
                  text: Kong Mesh supports rate limiting via Mesh Proxies. There are two rate limiting mechanisms local using MeshRateLimit and global using MeshGlobalRateLimit policies.
                - type: text
                  text: <a href="https://docs.konghq.com/mesh/latest/features/meshglobalratelimit/">Add Global Rate Limiting with Kong Mesh</a>

  - row:
      - column:
          - type: header
            config:
              type: h2
              text: Tutorials
          - type: tutorial_list
            config:
              - tag: rate-limiting
                product: gateway # omit for all products
            quantity: 5
          - type: cta
            config:
              text: "View more tutorials &raquo;"
              url: "https://docs.devsite.com/search/{tutorial.topic}+{other stuff}" ## Takes you to search with terms that match this.
              align: end

  - row:
      - column:
          - type: header
            config:
              type: h2
              text: References
          - type: unordered_list
            config:
              - text: "[Mesh Rate Limiting Policy](/voice/voice-api/code-snippets/before-you-begin)"
                badges: ["kuma", "oss"]
              - text: "[Rate Limiting per consumer using Kic](/voice/voice-api/guides/ncco)"
                badges: ["kic", "oss"]
  - row:
      - column:
          - type: header
            config:
              type: h2
              text: Recommended Plugins
  - row:
      - column:
          - type: plugin
            config:
              slug: rate-limiting
  - row:
      - column:
          - type: header
            config:
              type: h2
              text: "Related Resources"
          - type: related_resources
            config:
              - text: Leveraging Mesh
                url: /voice/voice-api/code-snippets/before-you-begin
              - text: How to ratelimiting
                url: /voice/voice-api/guides/ncco
              - text: How to design a scalable Rate Limiting Algorithm with Kong API
                url: https://www.nexmo.com/blog/2018/06/28/receive-an-inbound-voice-call-with-php-dr/
