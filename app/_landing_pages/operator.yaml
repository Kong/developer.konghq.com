metadata:
  title: Kong Operator
  content_type: landing_page
  description: |
    {{ site.operator_product_name }} is the Kubernetes-native way to interact with Kong. Deploy Data Planes, configure {{ site.konnect_short_name }}, and more.
  products:
    - operator

rows:
  - header:
      type: h1
      text: "{{site.operator_product_name}} (KO)"
      sub_text: Deploy and manage Kong on Kubernetes using Kubernetes resources

  - header:
      type: h2
      text: What is the {{site.operator_product_name}}?
    columns:
      - blocks:
          - type: text
            config: |
              {{ site.operator_product_name }} is the Kubernetes-native way to interact with Kong. Driven by Gateway API or Kong-specific Custom Resource Definitions (CRDs) resources, {{ site.operator_product_name }} allows you to deploy and configure Kong's products 
              in a declarative way.

  - header:
      type: h2
      text: "Operator capabilities"
    columns:
      - blocks:
        - type: card
          config:
            icon: /assets/icons/kubernetes.svg
            title: "Manage {{ site.base_gateway }} in Kubernetes through the {{ site.operator_product_name }} and Gateway API"
            description: |
              Deploy and configure {{ site.base_gateway }} in Kubernetes using the standard Gateway API resources.
            cta:
              text: Deploy {{ site.base_gateway }} in Kubernetes using Gateway API
              url: /operator/get-started/gateway-api/install/ 

      - blocks:
        - type: card
          config:
            icon: /assets/logos/konglogo-gradient-secondary.svg
            title: "Manage {{ site.base_gateway }} in Kubernetes through the {{ site.operator_product_name }} and the Konnect CRDs"
            description: |
              Deploy and configure {{ site.base_gateway }} in Kubernetes using Kong-specific Custom Resource Definitions (CRDs)
              provided by {{ site.operator_product_name }}.
            cta:
              text: Deploy {{ site.base_gateway }} in Kubernetes using Konnect CRDs
              url: /operator/get-started/konnect-crds/install/

  - header:
      type: h2
      text: "Configure your Gateways declaratively"
      sub_text: |
        The Kong Gateway can be configured using Kubernetes-native resources.
      
        Here is the two recommended ways to configure your Gateways using {{ site.operator_product_name }}:
    columns:
      - blocks:
        - type: structured_text
          config:
            header:
              text: Gateway API
            blocks:
            - type: text
              text: |
                The de facto standard for configuring networking in Kubernetes, Gateway API allows you to configure 
                your Gateways, no matter if they are self-managed or Hybrid {{ site.base_gateway }}.

                Kong has been at the forefront of Gateway API development, contributing features and enhancements to the project since its inception.
        - type: text
          config: |
            ```yaml
            # Create a new HTTPRoute to route traffic to an echo service
            apiVersion: gateway.networking.k8s.io/v1
            kind: HTTPRoute
            metadata:
              name: httproute-echo
              namespace: default
                annotations:
                  konghq.com/strip-path: "true"
            spec:
              parentRefs:
              - name: hybrid-kong
              rules:
              - matches:
                - path:
                    type: PathPrefix
                    value: /echo
                backendRefs:
                - name: echo
                  kind: Service
                  port: 80
            ```
      - blocks:
        - type: structured_text
          config:
            header:
              text: Konnect configuration CRDs
            blocks:
            - type: text
              text: |
                Kong-specific Custom Resource Definitions allow you to configure your Gateways and {{ site.konnect_short_name }} resources directly from Kubernetes.

                These CRDs are designed and maintained by Kong, providing the same powerful capabilities as Gateway API with Kong-native resource definitions.
        - type: text
          config: |
            ```yaml
            # Create a new KongService
            apiVersion: configuration.konghq.com/v1alpha1
            kind: KongService
            metadata:
              name: echo
              namespace: default
            spec:
              # reference the Konnect/Gateway control plane defined in Konnect
              controlPlaneRef:
                type: konnectNamespacedRef
                konnectNamespacedRef:
                  name: <CONTROLPLANE_NAME>
              name: echo
              host: echo.default.svc.cluster.local
              port: 80
              protocol: http

            ---

            # Create a new KongRoute
            apiVersion: configuration.konghq.com/v1alpha1
            kind: KongRoute
            metadata:
              name: httproute-echo
              namespace: default
            spec:
              name: httproute-echo
              protocols:
                - http
              paths:
                - /echo
              strip_path: true
              serviceRef:
                type: namespacedRef
                namespacedRef:
                  name: echo
            ```
  - header:
    type: h2
    text: "Help us to help you!"     
    columns:
      - blocks:
        - type: structured_text
          config:
            header:
              text: Help us to help you!
            blocks:
            - type: text
              text: |
                We built Konnect CRDs after listening to _you_. Users told us that their teams are used to working in Kubernetes. They have policy 
                enforcement engines running in their clusters, and well defined review processes for CRD changes.

                Now we need your help. We're expanding CRD support to new products, and need you to tell us which APIs you want us to build first.

                Join the conversation and tell us how you're using {{ site.konnect_short_name }} CRDs today and what you'd like to see next.
        - type: button
          config:
            text: Open a GitHub issue
            url: https://github.com/kong/gateway-operator/issues/new
        - type: table
          config:
            columns:
              - title: Product
                key: product
              - title: Supported?
                key: supported
            rows:
              - product: Gateway Control Planes
                supported: true
              - product: Gateway Configuration
                supported: true
              - product: Dedicated Cloud Gateways
                supported: Partial Support
              - product: Kong Mesh
                supported: Planned
              - product: Developer Portal
                supported: Planned
              - product: Catalog
                supported: Planned
              - product: Analytics
                supported: Planned
              - product: Team Management
                supported: Planned
              - product: Organization Configuration
                supported: Planned
