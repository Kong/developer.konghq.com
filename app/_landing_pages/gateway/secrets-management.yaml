metadata:
  title: "Secrets management"
  content_type: landing_page
  description: An introduction to secrets management with Kong.
  tags:
    - security
rows:
  - header:
      type: h1
      text: "Secrets management"
  - columns:
      - blocks:
        - type: structured_text
          config:
            header:
              text: "What is secrets management?"
            blocks:
              - type: text
                text: |
                  A secret is any sensitive piece of information required for API gateway operations. 
                  Secrets may be part of the core {{site.base_gateway}} configuration, they may be used in plugins, or they might be part of configuration associated with APIs serviced by the gateway.

                  {{site.base_gateway}} lets you store certain values in a [Vault](/gateway/entities/vault). 
                  By storing sensitive values as secrets, you ensure that they are not visible in plain text throughout the platform, in places such as `kong.conf`, in declarative configuration files, logs, or in the Kong Manager UI. 
                  Instead, you can reference each secret with a Vault reference.

                  For example, the following reference resolves to the environment variable `MY_SECRET_POSTGRES_PASSWORD`: 
                  ```
                  {vault://env/my-secret-postgres-password}
                  ```
  - columns:
      - blocks:
        - type: structured_text
          config:
            header:
              text: "How can I manage secrets in {{site.base_gateway}}?"
            blocks:
              - type: text
                text: |
                  With the Free tier, you can manage secrets by storing them in environment variables. 
                  With the Enterprise tier, you can connect your Vault to an external backend, which allows you to reference secrets stored in a third-party secret manager.
  - columns:
      - blocks:
        - type: card
          config:
            title: Environment variables
            description: |
              You can store secrets as environment variables and reference them in any field that supports Vault references.
              
            icon: /assets/icons/code.svg
            cta:
              text: Store secrets as environment variables in {{site.base_gateway}}
              url: "/gateway/entities/vault/#store-secrets-as-environment-variables"
      - blocks:
        - type: card
          config:
            title: "{{site.konnect_short_name}} Config Store"
            description: |
              You can use {{site.konnect_short_name}} as a Vault backend using a Config Store.
            icon: /assets/icons/gateway.svg
            cta:
              text: Store secrets in {{site.konnect_short_name}} Config Store
              url: "/how-to/store-secrets-in-konnect-config-store"
      - blocks:
        - type: card
          config:
            title: HashiCorp Vault
            description: |
              You can connect HashiCorp Vault to a {{site.base_gateway}} Vault to reference secrets.
            icon: /assets/icons/hashicorp.svg
            cta:
              text: Configure HashiCorp Vault as a vault
              url: "/how-to/configure-hashicorp-vault-as-a-vault-backend"
  - columns:
      - blocks:
        - type: card
          config:
            title: Azure Key Vaults
            description: |
              You can connect your Azure Key Vaults to a {{site.base_gateway}} Vault to reference secrets.
              
            icon: /assets/icons/azure.svg
            cta:
              text: Configure Azure Key Vaults as a vault backend
              url: "/how-to/configure-azure-key-vaults-as-a-vault-backend"
      - blocks:
        - type: card
          config:
            title: AWS Secrets Manager
            description: |
              You can connect your AWS Secrets Manager to a {{site.base_gateway}} Vault to reference secrets.
              
            icon: /assets/icons/aws.svg
            cta:
              text: Configure AWS Secrets Manager as a vault backend
              url: "/how-to/configure-aws-secrets-manager-as-a-vault-backend"
      - blocks:
        - type: card
          config:
            title: Google Cloud Platform Secret Manager
            description: |
              You can connect Google Cloud Platform Secret Manager to a {{site.base_gateway}} Vault to reference secrets.
              
            icon: /assets/icons/google-cloud.svg
            cta:
              text: Configure Google Cloud Platform Secret Manager as a vault backend
              url: "/how-to/configure-google-cloud-secret-as-a-vault-backend"
  - header:
      text: Secrets rotation
      type: h2
    columns:
      - blocks:
        - type: structured_text
          config:
            blocks:
              - type: text
                text: |
                  Secrets rotation is a process of updating secrets. Its considered a good practice to regularly rotate secrets. 
                  Here are some reasons why secrets rotation is important:
              - type: unordered_list
                items:
                  - Reducing the impact of compromised secrets
                  - Enhancing resilience against brute-force attacks
                  - Complying with security regulations
                  - Maintaining separation of duties
                  - Adapting to evolving threats
                  - Mitigating the effects of insider threats
              - type: text
                text: |
                  Kong needs to hold many types of secrets to be able to process requests, and to integrate with other systems and clients:
              - type: unordered_list
                items:
                  - TLS certificates
                  - Credentials and API keys (to access databases, identity providers, and other services)
                  - Cryptographic keys (for digital signing and encryption)

        - type: structured_text
          config:
            header:
              text: "How can I rotate secrets in {{site.base_gateway}}?"
            blocks:
              - type: text
                text: |
                  There are two main ways to rotate secrets:
              - type: unordered_list
                items:
                  - Rotate periodically using TTLs (e.g. check for new TLS certificate once per day)
                  - Rotate on failure (e.g. on database authentication failure, check if the secrets were updated, and try again)
              - type: text
                text: |
                  Kong supports both methods for rotating secrets. 
                  Rotation on failure requires code to be written, and thus support in Kong is limited to Postgres credentials for now. 
                  There is an experimental Kong PDK API that can be used to rotate secrets on failure: [kong.vault.try](https://docs.konghq.com/gateway/3.9.x/plugin-development/pdk/kong.vault/#kongvaulttrycallback-options).
  - columns:
      - blocks:
        - type: card
          config:
            title: AWS Secrets Manager
            description: |
              You can configure secrets rotation with AWS Secrets Manager to a {{site.base_gateway}} by configuring TTLs.
              
            icon: /assets/icons/aws.svg
            cta:
              text: Rotate secrets in AWS Secrets Manager
              url: "/how-to/rotate-secrets-in-aws-secrets-manager"
      - blocks:
        - type: card
          config:
            title: Google Cloud Platform Secret Manager
            description: |
              You can configure secrets rotation with Google Cloud Platform Secret Manager to a {{site.base_gateway}} by configuring TTLs.
              
            icon: /assets/icons/google-cloud.svg
            cta:
              text: Rotate secrets in Google Cloud Platform Secret Manager
              url: "/how-to/rotate-secrets-in-google-cloud-secret"
      - blocks:
        - type: card
          config:
            title: HashiCorp Vault
            description: |
              You can configure secrets rotation with HashiCorp Vault to a {{site.base_gateway}} by configuring TTLs.
            icon: /assets/icons/hashicorp.svg
            cta:
              text: Rotate secrets in HashiCorp Vault
              url: "/how-to/rotate-secrets-in-hashicorp-vault"
  - header:
      text: How-to Guides
      type: h2
    columns:
      - blocks:
          - type: how_to_list
            config:
              tags:
                - security
              products:
                - gateway
              quantity: 5
              view_more: "https://docs.devsite.com/search/{topic}+{other stuff}" ## Takes you to search with terms that match this.